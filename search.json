[
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "Data",
    "section": "",
    "text": "This comes from the file data.qmd.\nOur primary data set comes from data.boston.gov and contains data regarding shootings in the Boston area. Data was collected by the Boston Regional Intelligence Center under the Boston Police Department Bureau of Intelligence and Analysis. This data includes both fatal and non-fatal shootings (shooting_type_v2), if a victim was struck by a bullet within the City of Boston that falls under the jurisdiction of the Boston Police Department (district). The data does not include shootings that were deemed justifiable or self-inflicted gunshot wounds. The dataset serves as a benchmark for BPD to analyze safety and violence in Boston districts and to assess the allocation of their focus and resources. It was collected with the aim of monitoring and responding to shooting incidents within the city. The data is from 2015 forward. The data set is comprised of 1925 rows and 8 columns, labeled “incident_num”, “shooting_date”, “district”, “shooting_type_v2”, “victim_gender”, “victim_race”, “victim_ethnicity_NIBRS”, and “multi_victim”.\nload_and_clean_data.R has our cleaned data set.\nWe used the tidycensus package to add census data from the American Community Survey to our original data set. We are considering key indicators such as employment status, percentage of those above the poverty level, unemployment rate, median income, percent of single-parent households, high school graduate population, and percentage of homes that are owner occupied. We have also pulled demographic data and geolocation data to help analyze the distribution of incidents across races between Boston districts. The data tables will be merged based on each year of our initial shooting data set.\nHere is a slightly simplified version of the code we used to combine the tidycensus data with our original data set.\nFirst we merged census data based on districts, assigned tract number with their associated zip code and merged districts from tidycensus with our original data set.\n\nlibrary(tidycensus)\nlibrary(tidyverse)\n\n\n#merge demographic data \ndemo&lt;-read.csv(here::here(\"dataset\", \"redistricting_data_tract20_nbhd_hhpopsize_ab-1.csv\"))\n\ndistrict_names &lt;-data.frame(district = c('A1','A15','A7','B2','B3','C6','C11','D4','D14','E5','E13','E18'),\n                            district_name = c('Downtown & Charlestown','Downtown & Charlestown','East Boston', 'Roxbury',\n                                              'Mattapan','South Boston','Dorchester','South End','Brighton','West Roxbury','Jamaica Plain','Hyde Park'))\n\ncolnames(demo) &lt;- as.character(unlist(demo[1,]))\ndemo &lt;- demo[-1,]\ncolnames(demo)[1] &lt;- \"district_name\"\n\nfiltered_demo &lt;- subset(demo, district_name %in% district_names$district_name)\n\ncleaned_data&lt;-merge(date_time,filtered_demo,by = 'district_name')\nnrow(cleaned_data)\nsum(is.na(cleaned_data))\n\n#add district names corresponding to zipcodes/Geoid for final merge with original dataset\nwith_districts &lt;- combined_df %&gt;%\n  mutate(district_name = case_when(\n    GEOID == 2135 ~ \"Brighton\",\n    GEOID %in% c(2121, 2122, 2124, 2125) ~ \"Dorchester\",\n    GEOID == 2128 ~ \"East Boston\",\n    GEOID == c(2136,2137) ~ \"Hyde Park\",\n    GEOID == c(2130,2135) ~ \"Jamaica Plain\",\n    GEOID == 2126 ~ \"Mattapan\",\n    GEOID %in% c(2119,2120,2132) ~ \"Roxbury\",\n    GEOID == 2127 ~ \"South Boston\",\n    GEOID %in% c(2111, 2116, 2118, 2127) ~ \"South End\",\n    GEOID == 2132 ~ \"West Roxbury\",\n    TRUE ~ NA_character_\n  ))\n\nfinal_df&lt;-merge(selected_columns,with_districts, by = c('district_name','year'))\n\n\nfinal_df&lt;-merge(selected_columns,with_districts, by =\n                  c('district_name','year'))\n\nwrite.csv(final_df, file = \"census_dat.csv\", row.names = FALSE)\n\n\ncolnames(final_df)"
  },
  {
    "objectID": "big_picture.html",
    "href": "big_picture.html",
    "title": "Big Picture",
    "section": "",
    "text": "In Boston, an unsettling pattern emerges—gun violence casts a long shadow across its diverse neighborhoods. But what factors contribute to this grave issue? Our extensive study of shooting incidents over the last decade aims to determine if socioeconomic factors are at the heart of this issue. Could understanding these elements lead to a solution for the violence?\nAt the center of our study is a hypothesis: improving socioeconomic conditions—specifically income, employment, education, and racial equity—can significantly reduce the prevalence of shootings across Boston’s neighborhoods. By examining data from various neighborhoods, we explore how income, employment, education and race relate to the frequency of shootings.\n\n\n\n\n\n\n\n\n\nThe distribution of gun violence across Boston reveals significant disparities that echo through its neighborhoods. The bar chart above showcases the total number of shooting incidents by district, highlighting a varied landscape of safety across the city. Notably, districts like Mattapan, Roxbury and Dorchester experience far higher frequencies of violence compared to quieter areas like the East Boston and Brighton. This visualization not only illustrates these differences but sets the stage for a deeper exploration of underlying causes. What can these variations tell us about the resources and challenges faced by residents of different districts?\n\n\n\nThe data indicates significant racial disparities in shooting incidents. Across all years and districts, the races with the highest number of shooting incidents are Black and African American, as well as Hispanic or Latinx. This is the case for both Fatal and Non-Fatal shootings.\n\nThe following graphs display the number of Fatal and Non-Fatal shootings by race every year. Although the number of incidents fluctuates a bit for each race every year, the relative number of incidents for each race compared to the others stays around the same. White, Asian, and “Unknown” consistently have an extremely low number of victims. It is worth noting that there do not appear to be any recorded Asian fatalities. It is also worth noting that for Black and African American, Hispanic or Latinx, and Unknown, an intriguing pattern emerged in 2020, with a notable spike in non-fatal shootings among these groups, followed by a decrease in 2024—a year still in progress.\n\n\n\n\n\n\n\n\n\n\n\n\n\nAs we dive deeper into the socioeconomic layers of Boston, our analysis shifts to one of the most telling indicators of community safety: economic stability. In this section, we examine how the average median income across Boston’s neighborhoods correlates with the number of shooting incidents they experience. The upcoming graph will visually showcase this relationship, revealing how economic conditions might directly influence the safety and well-being of residents.\n\n\n\n\n\nThe graph matches our initial assumptions, as districts with higher average median incomes typically report fewer shooting incidents. This moderate inverse relationship highlights economic stability as a potential buffer against violence.\n\n\n\n\n\nNotably, neighborhoods like South Boston and the Jamaica Plain, which hold the highest income levels, also exhibit some of the lowest rates of gun violence, contrasting sharply with areas like Mattapan and Roxbury. These findings suggest that improving economic conditions in lower-income districts could be a key strategy in reducing violence.\n\n\n\nTurning our focus to employment, we examine another vital socioeconomic indicator that may significantly influence urban safety: unemployment rates across Boston’s districts. The following graph presents the correlation between average unemployment rates and the total number of shooting incidents, offering insights into how joblessness might increase the risks of violence. The data suggests a substantial link between higher unemployment and increased shooting incidents, hinting that employment stability could be a pivotal factor in enhancing community safety.\n\n\n\n\n\nThe graph depicts a clear trend where districts with higher unemployment rates, such as Mattapan and Roxbury, also report a greater number of shooting incidents. This visualization highlights the potential role of economic distress, manifesting as unemployment, in contributing to social instability and violence. Particularly striking is the high unemployment and corresponding number of cases in Roxbury, underscoring the urgency for targeted economic and employment support in such areas. On the other hand, districts like South and East Boston, which feature relatively lower unemployment rates, witness fewer shootings, supporting our theory that job creation and economic vitality might serve as effective deterrents to violence.\n\n\n\nEducation shines through as a potential beacon of hope. The graph below illustrates the percentage of the population with bachelor’s degrees by district alongside the total number of shooting cases. It is evident that districts like Brighton and South Boston, which boast higher percentages of degree holders, report significantly fewer shootings compared to areas like Mattapan and Dorchester, where fewer residents have completed higher education. This trend is visually represented and suggests that enhancing educational opportunities could serve as a preventive measure against urban violence.\n\n\n\n\n\n\n\n\nOur comprehensive analysis paints a clear picture: socioeconomic factors are deeply intertwined with the safety of Boston’s neighborhoods. By addressing the economic, employment, and educational disparities, Boston can move toward a future where all residents have the opportunity to live in safety and prosperity. This study not only sheds light on the complexities of urban violence but also offers a blueprint for meaningful change. It is a call to action for policymakers, community leaders, and residents to unite in transforming Boston into a safer, more equitable city for all."
  },
  {
    "objectID": "big_picture.html#visual-analysis-the-story-through-numbers",
    "href": "big_picture.html#visual-analysis-the-story-through-numbers",
    "title": "Big Picture",
    "section": "",
    "text": "The distribution of gun violence across Boston reveals significant disparities that echo through its neighborhoods. The bar chart above showcases the total number of shooting incidents by district, highlighting a varied landscape of safety across the city. Notably, districts like Mattapan, Roxbury and Dorchester experience far higher frequencies of violence compared to quieter areas like the East Boston and Brighton. This visualization not only illustrates these differences but sets the stage for a deeper exploration of underlying causes. What can these variations tell us about the resources and challenges faced by residents of different districts?\n\n\n\nThe data indicates significant racial disparities in shooting incidents. Across all years and districts, the races with the highest number of shooting incidents are Black and African American, as well as Hispanic or Latinx. This is the case for both Fatal and Non-Fatal shootings.\n\nThe following graphs display the number of Fatal and Non-Fatal shootings by race every year. Although the number of incidents fluctuates a bit for each race every year, the relative number of incidents for each race compared to the others stays around the same. White, Asian, and “Unknown” consistently have an extremely low number of victims. It is worth noting that there do not appear to be any recorded Asian fatalities. It is also worth noting that for Black and African American, Hispanic or Latinx, and Unknown, an intriguing pattern emerged in 2020, with a notable spike in non-fatal shootings among these groups, followed by a decrease in 2024—a year still in progress.\n\n\n\n\n\n\n\n\n\n\n\n\n\nAs we dive deeper into the socioeconomic layers of Boston, our analysis shifts to one of the most telling indicators of community safety: economic stability. In this section, we examine how the average median income across Boston’s neighborhoods correlates with the number of shooting incidents they experience. The upcoming graph will visually showcase this relationship, revealing how economic conditions might directly influence the safety and well-being of residents.\n\n\n\n\n\nThe graph matches our initial assumptions, as districts with higher average median incomes typically report fewer shooting incidents. This moderate inverse relationship highlights economic stability as a potential buffer against violence.\n\n\n\n\n\nNotably, neighborhoods like South Boston and the Jamaica Plain, which hold the highest income levels, also exhibit some of the lowest rates of gun violence, contrasting sharply with areas like Mattapan and Roxbury. These findings suggest that improving economic conditions in lower-income districts could be a key strategy in reducing violence.\n\n\n\nTurning our focus to employment, we examine another vital socioeconomic indicator that may significantly influence urban safety: unemployment rates across Boston’s districts. The following graph presents the correlation between average unemployment rates and the total number of shooting incidents, offering insights into how joblessness might increase the risks of violence. The data suggests a substantial link between higher unemployment and increased shooting incidents, hinting that employment stability could be a pivotal factor in enhancing community safety.\n\n\n\n\n\nThe graph depicts a clear trend where districts with higher unemployment rates, such as Mattapan and Roxbury, also report a greater number of shooting incidents. This visualization highlights the potential role of economic distress, manifesting as unemployment, in contributing to social instability and violence. Particularly striking is the high unemployment and corresponding number of cases in Roxbury, underscoring the urgency for targeted economic and employment support in such areas. On the other hand, districts like South and East Boston, which feature relatively lower unemployment rates, witness fewer shootings, supporting our theory that job creation and economic vitality might serve as effective deterrents to violence.\n\n\n\nEducation shines through as a potential beacon of hope. The graph below illustrates the percentage of the population with bachelor’s degrees by district alongside the total number of shooting cases. It is evident that districts like Brighton and South Boston, which boast higher percentages of degree holders, report significantly fewer shootings compared to areas like Mattapan and Dorchester, where fewer residents have completed higher education. This trend is visually represented and suggests that enhancing educational opportunities could serve as a preventive measure against urban violence.\n\n\n\n\n\n\n\n\nOur comprehensive analysis paints a clear picture: socioeconomic factors are deeply intertwined with the safety of Boston’s neighborhoods. By addressing the economic, employment, and educational disparities, Boston can move toward a future where all residents have the opportunity to live in safety and prosperity. This study not only sheds light on the complexities of urban violence but also offers a blueprint for meaningful change. It is a call to action for policymakers, community leaders, and residents to unite in transforming Boston into a safer, more equitable city for all."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This comes from the file about.qmd.\nThis is a website for the final project for MA[46]15 Data Science with R by Team TEAMNAME. The members of this team are below."
  },
  {
    "objectID": "about.html#hirotaka-caden-fuiji",
    "href": "about.html#hirotaka-caden-fuiji",
    "title": "About",
    "section": "Hirotaka Caden Fuiji",
    "text": "Hirotaka Caden Fuiji\nHiro is an undergraduate student majoring in Data Science. His GitHub Page is https://github.com/fujiihc."
  },
  {
    "objectID": "about.html#john-markowicz",
    "href": "about.html#john-markowicz",
    "title": "About",
    "section": "John Markowicz",
    "text": "John Markowicz\nJohn is an undergraduate student majoring in Data Science. His GitHub page is https://github.com/jcmarkowicz."
  },
  {
    "objectID": "about.html#alexandra-rodriguez",
    "href": "about.html#alexandra-rodriguez",
    "title": "About",
    "section": "Alexandra Rodriguez",
    "text": "Alexandra Rodriguez\nAlexandra is an undergraduate student majoring in Computer Science and Psychology. Her Github page is https://github.com/lexi0001."
  },
  {
    "objectID": "about.html#nathan-rosenblum",
    "href": "about.html#nathan-rosenblum",
    "title": "About",
    "section": "Nathan Rosenblum",
    "text": "Nathan Rosenblum\nNathan is a undergraduate senior studying Applied Mathematics, his github page is https://github.com/nrosenblum."
  },
  {
    "objectID": "about.html#eric-yang",
    "href": "about.html#eric-yang",
    "title": "About",
    "section": "Eric Yang",
    "text": "Eric Yang\nEric is an undergraduate student in Economics with a minor in History. His Github page is https://github.com/ericyang02.\n\n\nAbout this Template.\nThis is based off of the standard Quarto website template from RStudio (2023.09.0 Build 463)."
  },
  {
    "objectID": "posts/Blog_6/Blog_6.html",
    "href": "posts/Blog_6/Blog_6.html",
    "title": "Blog 6: Thesis",
    "section": "",
    "text": "Our thesis is as follows: Shooting Frequency is negatively correlated with Income Per Capita. As IPC increases, Shooting Frequency decreases. We have initial graphs that support this thesis. We decided to use Income Per Capita rather than median income to normalize our values to account for differing population sizes. We are in the process of exploring the relationships between Shooting Frequency and Employment Status as well as Education. Our initial assumptions are that low employment is correlated with more shootings, and that low education (defined as having a high school diploma) is correlated with more shootings. In terms of additional exploration, we are in the process of generating graphs to either verify or refute our previous claims. We aim to investigate the relationship between socioeconomic factors and the rate of shooting incidents in the Boston area over a ten-year period from 2015 to 2024. Our goal is to understand how variables such as employment status, poverty levels, unemployment rates, median income, family structure, education levels, and homeownership rates influence the occurrence of shooting incidents across different neighborhoods. We predict that certain factors such as high unemployment rates and elevated poverty levels will correlate with increased shooting incidents in the Boston area from 2015 to 2024. Tables we might look into include using tidycensus to get visual representations of where the most police shootings occur. This will help verify whether our hypothesis of shooting frequency and location is consistent."
  },
  {
    "objectID": "posts/Blog_post_2/Blog_post_2.html",
    "href": "posts/Blog_post_2/Blog_post_2.html",
    "title": "Blog 2: Data Background",
    "section": "",
    "text": "Data Background\nData was collected by the Boston Regional Intelligence Center under the Boston Police Department Bureau of Intelligence and Analysis. This data includes both fatal and non-fatal shootings (shooting_type_v2), if a victim was struck by a bullet within the City of Boston that falls under the jurisdiction of the Boston Police Department (district). The data does not include shootings that were deemed justifiable or self-inflicted gunshot wounds. The dataset serves as a benchmark for BPD to analyze safety and violence in Boston districts and to assess the allocation of their focus and resources. It is likely collected with the aim of monitoring and responding to shooting incidents within the city. The data is from 2015 forward.\nPotential issues with this data could include inconsistencies in reporting across districts, missing or incomplete data, variation in how incidents are classified, and potential biases in reporting (underreporting in certain neighborhoods). Bias might also exist due to overrepresentation of certain demographics as victims or systemic biases within law enforcement practices.\nThis data could be used for various purposes including trend analysis over time, understanding spatial distribution across districts, examining victim demographics, and exploring relationships between shooting incidents and victim characteristics. There may have been prior research utilizing this data to understand patterns of gun violence in Boston or to inform policy decisions related to public safety. The data might inform policy decisions related to allocation of resources for crime prevention, community outreach efforts, or gun control measures. Questions from policymakers might include inquiries about trends in shootings, effectiveness of intervention programs, or factors contributing to high-risk areas."
  },
  {
    "objectID": "posts/Blog_4/blog4.html",
    "href": "posts/Blog_4/blog4.html",
    "title": "Blog 4: Data Modeling",
    "section": "",
    "text": "Two graphs we have emphasized are the relationship between victim and gender and incidents by district. Using these two graphs will help emphasize where Boston shootings most occur, and who is most at-risk in getting involved. Predictor variables we may be interested in are the district numbers and gender; these two variables are interesting to see where the greatest number of crimes occur - to observe possible patterns and for forecasting.\nOur analysis so far has highlighted gender differences and the frequency of incidents by district without exploring how these factors may interact with others. We could further explore temporal patterns to shed light on when incidents are more likely to occur. We could also focus on outcomes, particularly the distinction between fatal and non-fatal incidents, to help us understand the factors that contribute to the severity of shootings.\nBased on our dataset, there are two potential directions we can take for the choice of the response variable. We could predict the severity of incidents (whether it was fatal) or predict the frequency of incidents based on various factors (time, location, demographic information). To predict incident frequency, we would need to aggregate the data to have counts per day, district, or another relevant grouping. Possible predictor variables could include date/time for temporal trends, district name/district for geographical influences, victim race/gender for demographic factors of victims, or socioeconomic factors like income. If our response variable is the severity of incidents, logistic regression is the most appropriate for predicting the possibility of an incident being fatal based on the predictors. Linear regression could be used if our response variable is the number of incidents to fit a continuous distribution."
  },
  {
    "objectID": "posts/2024-04-29-blog-7-visualizations/blog-7-visualizations.html",
    "href": "posts/2024-04-29-blog-7-visualizations/blog-7-visualizations.html",
    "title": "Blog 7: Visualizations",
    "section": "",
    "text": "For additional graphs and tables, we may want to observe how the scale of these crime patterns may differ based on different combinations of factors. This may help emphasize which factors - median income, family structure, education levels, and homeownership rates - influence the occurrence of shooting incidents the most. We may want to emphasize the earlier years (such as 2015 - 2020), as doing so may help provide insights on how such patterns evolved, as well as helping us predict where future shootings may occur. We may also observe how factors such as population (density) affects how often there is a shooting in a particular area, as there may be more instances of shootings in areas with more people of a lower socioeconomic background. The variable of interest, income per capita, helps predict future patterns.\nDepending on the frequencies, plotly() may be useful in determining the relative frequencies of shootings based on data [Using this graph will specifically help visualize which Boston districts experience the most and least number of shootings depending ] Furthermore, packages of interest to make these plots may include ‘dplyr’. We are working on developing maps to display the distribution of demographic data over the districts for which we collected data. Following the tidycensus online text, we will plot maps for our statistically significant independent variables and incorporate our demographic data with the segregation package to map the local segregation index.\nWe are developing four models, OLS with observations for each year in our dataset, logistic regression to analyze the victim gender in each incident, a geographical weighted regression to consider the effects of neighboring locations, and an ADL time series regression to forecast incidents in 2025. Additionally, we will include scatterplots to display the interactions between statistically significant independent variables against our outcome variable."
  },
  {
    "objectID": "posts/Blog_3/Blog_3.html",
    "href": "posts/Blog_3/Blog_3.html",
    "title": "Blog 3: Data Cleaning",
    "section": "",
    "text": "Blog Post 3: Data Cleaning\nWe first used View() to get a preliminary view of the data. We found that some of the column names and values were overly complicated and could be simplified and recategorized. For example, the column “victim_ethnicity_NIBRS” contained the values “Hispanic or Latinx” and “Not Hispanic or Latinx”. This was simplified into a “v_hispanic”or_latinx” column and the values were replaced with Booleans. The “shooting_type_v2” column (values: “fatal”, “not fatal”) were reformatted into the “fatal” column and Boolean values as well.\nThe “district” column that came with the dataset only used district codes (“A7” for East Boston, “B2” for Roxbury, etc.). A list of Boston Districts and their respective codes was created with information from: https://police.boston.gov/districts/. This information was then used to create a new column “district_name” that contains the string name of the district where the shooting occurred. It is worth noting that on the website listed, A1 and A15 are listed as “A1 & A15”, “Downtown & Charlestown”; However, due to various other sources listing Downtown and Charlestown as separate districts, we separated them and mapped “A1” to “Downtown” and “A15” to “Charlestown”. Boston Police Department consistently refers to “A1” and “A15” together however, so we may remerge them in our dataset later.\nWe searched for duplicate columns and initially thought we had found them as multiple rows contained the same “incident_num”. However, upon further analysis, we found that shootings with multiple victims were split into multiple rows, as each row would correspond to each individual victim. Therefore, it would be incorrect to remove duplicates based on incident numbers. This conclusion is corroborated by the “multi_victim” column, which is true for rows in which the incident number is shared with other rows.\nIn the initial data set, date and time were combined in one column and they were both string values. To clean this column, we split the date and time into separate columns and modified the data types using the as.Date function and changed the time to match the format “%H:%M:%S” . Since the initial data set lacked demographic information for each district, we downloaded 2020 census data for each district and merged the data into our final cleaned data set. The demographic data columns of interest are household size, College/University student housing, Institutionalized population, Black, White, Hispanic or Latino, Asian, Native Hawaiian and Pacific Islander, and Other. The demographic data set did not include the district of Charlestown & Downtown resulting in a loss of 30 rows.\n\n\n\n\n\n\n\nData for Equity\nBeneficence requires maximizing benefits while minimizing harm. Applying this principle to the data involves critically evaluating the risks and benefits of collecting, analyzing, and sharing information about shootings. For example, it entails carefully considering how the data could be used to improve public safety and community well-being without reinforcing negative stereotypes about certain communities. To adhere to this principle, data should be aggregated or anonymized while protecting individuals’ identities, while still providing valuable insights for public safety efforts. Transparency is also crucial in maintaining the trust of the community from which the data was collected. It involves being clear about the collection methods, the purpose of the data, and how it will be used. Transparency also requires acknowledging the limitations of the analysis, such as potential biases in data collection (over or under reporting in certain areas) and the interpretations made from the data. Limitations in the analysis could include potential biases in how incidents are reported or recorded, leading to an incomplete or skewed understanding of crime patterns. Additionally, the data could also be misused to unfairly target specific communities."
  },
  {
    "objectID": "posts/Blog_5/Blog_5.html",
    "href": "posts/Blog_5/Blog_5.html",
    "title": "Blog 5: Second Data Set",
    "section": "",
    "text": "Our team will be modeling the rate of shooting incidents in the Boston area from 2015-2024, and to build an accurate model, our team will be analyzing socioeconomic indicators to draw meaningful conclusions. To obtain variables that we think will have significant interactions with the outcome variable, we have decided to utilize the tidy census package to query data from the American Community Survey through Census.gov tables. Specifically, we are considering key indicators such as employment status, percentage of those above the poverty level, unemployment rate, median income, percent of single-parent households, high school graduate population, and percentage of homes that are owner occupied. To introduce spatial analysis, we have pulled demographic and geolocation data for each of the years to analyze the distribution of incidents across race in key Boston districts based on zip codes. The names of each variable and their primary key in the database are listed below. \nAfter querying the relevant data, the next steps our team will take will involve merging the tables for each year with our initial data set. We plan on joining these tables based on year and zip code keys. Given that we are covering spatial data, we would like to model statistics such as diversity gradient and dissimilarity index across the different regions where incidents take place. We will also be producing map plots to demonstrate the difference in our dependent variable across the different regions of coverage. Additionally, the data is distributed over time, so our team will be able to analyze the temporal variance of incidents with a time series analysis. \nLink to R script with query code: https://github.com/sussmanbu/final-project-team1/blob/d0bbc5e22b53cb188ed9c0fa22820c64e190a2b6/tidycensus.R\nRace variables:  White alone, Black alone, American Indian and Alaska Native alone, Asian alone, Native Hawaiian and Other Pacific Islander alone\nVariable IDs:\n‘DP03_0009’  unemployment rate\n‘B19013_001’ median income \nB11005_003E single parent households\n‘B16004_005E’ percent of individuals who do no speak english at all \n‘B16004_004E’ percent of individuals who do not speak english well \n‘B15003_017E’ high school graduate population \n‘C24010_’  Occupation by industry \n‘B23025_001E’ Employment status \n‘B17001_002E’  percent of individuals below poverty level \n‘B17001_003E’ percent above poverty level \n‘DP04_0046PE’  percent of homes that are owner occupied"
  },
  {
    "objectID": "posts/2024-02-28-first-blog-post/first-blog-post.html",
    "href": "posts/2024-02-28-first-blog-post/first-blog-post.html",
    "title": "Blog 1: Dataset Proposal",
    "section": "",
    "text": "Dataset 1 - Analyze Boston Shootings\nLink: https://data.boston.gov/dataset/shootings/resource/73c7e069-701f-4910-986d-b950f46c91a1?inner_span=True\nThis dataset from Analyze Boston contains information about shootings in Boston, comprised of 1925 rows and 8 columns, labeled “incident_num”, “shooting_date”, “district”, “shooting_type_v2”, “victim_gender”, “victim_race”, “victim_ethnicity_NIBRS”, and “multi_victim”. The original collection of this data might have been driven by law enforcement or public safety organizations aiming to monitor and respond to shooting incidents within the city. The inclusion of details like shooting type, victim demographics, and whether an incident involved multiple victims suggests an intent to understand patterns in gun violence, the demographic distribution of victims, and potentially identify areas or populations at higher risk. Loading and cleaning the data is possible, and initial steps could involve identifying any missing values. The main questions this dataset could address might revolve around identifying trends in shootings over time, assessing the distribution of shootings across different districts, understanding the demographic profile of victims, and analyzing the relationship between the type of shooting incidents and victim demographics. Challenges in analyzing this dataset might include dealing with missing or incomplete data.\nDataset 2 - Tobacco Use\nLink: https://catalog.data.gov/dataset/behavioral-risk-factor-data-tobacco-use-2011-to-present\nThis data set is from the U.S. Department of Health and Human Services. This data comes from the summation of several Tobacco surveys from 2011 to 2019. It contains 15 columns after cleaning and 43341 rows detailing location, year, race, type of tobacco consumption, gender, race, age, education, and more. This data could help us understand what demographics and locations have worse tobacco use habits, and how different age groups as well as levels of education may have different trends in tobacco use. Problems may arise from using this data set if different categories have different amounts of data, it may be harder to compare trends between categories.\nDataset 3 - School Attendance\nLink : https://catalog.data.gov/dataset/school-attendance-by-student-group-and-district-2021-2022\nThis dataset analyzes public school attendance from Pre-K to twelfth grade. This range will provide us with information on how students’ backgrounds like race or income level affects whether a student attends school regularly. There are 2020 observation rows. Furthermore, because the data is separated based on district, it will be clearer on how attendance might change based on demographics. Furthermore, the dataset analyzes attendance rate as a proportion to total student count on three date ranges - 2019 to 2020; 2020 to 2021; and 2021-2022. Finally, because each school district’s attendance rate is further separated by different “categories,” like race or whether or not they qualify for “Free/Reduced Lunch,” it will be useful to analyze how different hardships that students face may correlate with attendance rate. A challenge with using this dataset might be deciding which categories to use and how we can use the categories to emphasize the most meaningful results."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Behind the Bullet",
    "section": "",
    "text": "Blog 7: Visualizations\n\n\n\n\n\nIn this blog post, we discuss the potential use of additional graphs and tables to observe crime patterns based on different combinations of factors such as median income, family structure, education levels, and homeownership rates, with a focus on earlier years (2015 - 2020) to understand evolving patterns and predict future occurrences, as well as the development of models including OLS, logistic regression, geographical weighted regression, and ADL time series regression to analyze and forecast shooting incidents in Boston.\n\n\n\n\n\n\nApr 29, 2024\n\n\nHirotaka Caden Fuiji, John Markowicz, Alexandra Rodriguez, Nathan Rosenblum, Eric Yang\n\n\n\n\n\n\n  \n\n\n\n\nBlog 6: Thesis\n\n\n\n\n\nIn this blog post, we present our thesis that shooting frequency in Boston is negatively correlated with income per capita, supported by initial graphs, and discuss our exploration of the relationships between shooting frequency and employment status as well as education, aiming to investigate the impact of socioeconomic factors on shooting incidents in the city from 2015 to 2024.\n\n\n\n\n\n\nApr 22, 2024\n\n\nHirotaka Caden Fuiji, John Markowicz, Alexandra Rodriguez, Nathan Rosenblum, Eric Yang\n\n\n\n\n\n\n  \n\n\n\n\nBlog 5: Second Data Set\n\n\n\n\n\nIn this blog post, we outline our approach to modeling the rate of shooting incidents in Boston from 2015 to 2024, discussing the analysis of socioeconomic indicators and spatial data, including querying relevant variables, merging tables, and conducting spatial and time series analyses.\n\n\n\n\n\n\nApr 12, 2024\n\n\nHirotaka Caden Fuiji, John Markowicz, Alexandra Rodriguez, Nathan Rosenblum, Eric Yang\n\n\n\n\n\n\n  \n\n\n\n\nBlog 4: Data Modeling\n\n\n\n\n\nIn this blog post, we discuss the utilization of graphs to highlight the frequency of Boston shootings by district and victim gender, potential predictor variables such as district numbers and gender, and potential directions for analysis including exploring temporal patterns, outcomes, and choices for response variables such as incident severity or frequency.\n\n\n\n\n\n\nApr 8, 2024\n\n\nHirotaka Caden Fuiji, John Markowicz, Alexandra Rodriguez, Nathan Rosenblum, Eric Yang\n\n\n\n\n\n\n  \n\n\n\n\nBlog 3: Data Cleaning\n\n\n\n\n\nIn this blog post, we detail the process of cleaning the Boston shooting dataset, including simplifying column names, categorizing values, handling duplicates, and integrating demographic information, while also discussing principles of equity in data analysis such as beneficence and transparency.\n\n\n\n\n\n\nApr 1, 2024\n\n\nHirotaka Caden Fuiji, John Markowicz, Alexandra Rodriguez, Nathan Rosenblum, Eric Yang\n\n\n\n\n\n\n  \n\n\n\n\nBlog 2: Data Background\n\n\n\n\n\nIn this post, we discuss the Boston shooting dataset, covering its collection, potential biases, and how it can help understand safety and violence in the city.\n\n\n\n\n\n\nMar 18, 2024\n\n\nHirotaka Caden Fuiji, John Markowicz, Alexandra Rodriguez, Nathan Rosenblum, Eric Yang\n\n\n\n\n\n\n  \n\n\n\n\nBlog 1: Dataset Proposal\n\n\n\n\n\nIn this blog post, we explore three diverse datasets including Boston shootings, tobacco use trends, and school attendance patterns, each offering unique insights into societal issues and demographic dynamics.\n\n\n\n\n\n\nFeb 28, 2024\n\n\nHirotaka Caden Fuiji, John Markowicz, Alexandra Rodriguez, Nathan Rosenblum, Eric Yang\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "analysis.html",
    "href": "analysis.html",
    "title": "Analysis",
    "section": "",
    "text": "This comes from the file analysis.qmd.\nWe describe here our detailed data analysis. This page will provide an overview of what questions you addressed, illustrations of relevant aspects of the data with tables and figures, and a statistical model that attempts to answer part of the question. You’ll also reflect on next steps and further analysis.\nThe audience for this page is someone like your class mates, so you can expect that they have some level of statistical and quantitative sophistication and understand ideas like linear and logistic regression, coefficients, confidence intervals, overfitting, etc.\nWhile the exact number of figures and tables will vary and depend on your analysis, you should target around 5 to 6. An overly long analysis could lead to losing points. If you want you can link back to your blog posts or create separate pages with more details.\nThe style of this paper should aim to be that of an academic paper. I don’t expect this to be of publication quality but you should keep that aim in mind. Avoid using “we” too frequently, for example “We also found that …”. Describe your methodology and your findings but don’t describe your whole process."
  },
  {
    "objectID": "analysis.html#note-on-attribution",
    "href": "analysis.html#note-on-attribution",
    "title": "Analysis",
    "section": "Note on Attribution",
    "text": "Note on Attribution\nIn general, you should try to provide links to relevant resources, especially those that helped you. You don’t have to link to every StackOverflow post you used but if there are explainers on aspects of the data or specific models that you found helpful, try to link to those. Also, try to link to other sources that might support (or refute) your analysis. These can just be regular hyperlinks. You don’t need a formal citation.\nIf you are directly quoting from a source, please make that clear. You can show quotes using &gt; like this\n&gt; To be or not to be.\n\nTo be or not to be."
  },
  {
    "objectID": "analysis.html#rubric-on-this-page",
    "href": "analysis.html#rubric-on-this-page",
    "title": "Analysis",
    "section": "Rubric: On this page",
    "text": "Rubric: On this page\nYou will\n\nIntroduce what motivates your Data Analysis (DA)\n\nWhich variables and relationships are you most interested in?\nWhat questions are you interested in answering?\nProvide context for the rest of the page. This will include figures/tables that illustrate aspects of the data of your question.\n\nModeling and Inference\n\nThe page will include some kind of formal statistical model. This could be a linear regression, logistic regression, or another modeling framework.\nExplain the ideas and techniques you used to choose the predictors for your model. (Think about including interaction terms and other transformations of your variables.)\nDescribe the results of your modelling and make sure to give a sense of the uncertainty in your estimates and conclusions.\n\nExplain the flaws and limitations of your analysis\n\nAre there some assumptions that you needed to make that might not hold? Is there other data that would help to answer your questions?\n\nClarity Figures\n\nAre your figures/tables/results easy to read, informative, without problems like overplotting, hard-to-read labels, etc?\nEach figure should provide a key insight. Too many figures or other data summaries can detract from this. (While not a hard limit, around 5 total figures is probably a good target.)\nDefault lm output and plots are typically not acceptable.\n\nClarity of Explanations\n\nHow well do you explain each figure/result?\nDo you provide interpretations that suggest further analysis or explanations for observed phenomenon?\n\nOrganization and cleanliness.\n\nMake sure to remove excessive warnings, hide most or all code, organize with sections or multiple pages, use bullets, etc.\nThis page should be self-contained, i.e. provide a description of the relevant data.\n\n\n\n#analysis summary: focus on R-squared/adjusted R-squared, our models capture a majority of the variance in our dependent variable, total cases. Therefore, our choice of variables are good indicators and have substantial predictive power for the number of incidents in a given district. \n#Outline: \n#summary statistics: correlations of our independent variables with total cases, correlation table seems intuitive, for example as unemployment increases, total cases also increase. Show the distribution of our variables, include more creative plots for appeal, reference tidycensus,Rfor data science books. \n\n#Modeling: good R-Squared, above 90 for adjusted R-squared which is key, look at the relationship across spatial, socio economic, and racial features, geospatial analysis to weight the proximity of our locations, plot Beta, where is our regressors more impactful?, compare to segregation index and map. \n\nlibrary(tidycensus)\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(sandwich)\nlibrary(lmtest)\n\nLoading required package: zoo\n\nAttaching package: 'zoo'\n\nThe following objects are masked from 'package:base':\n\n    as.Date, as.Date.numeric\n\nlibrary(car)\n\nLoading required package: carData\n\nAttaching package: 'car'\n\nThe following object is masked from 'package:dplyr':\n\n    recode\n\nThe following object is masked from 'package:purrr':\n\n    some\n\nlibrary(leaps)\nlibrary(segregation)\nlibrary(tigris)\n\nTo enable caching of data, set `options(tigris_use_cache = TRUE)`\nin your R script or .Rprofile.\n\nlibrary(sf)\n\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\nlibrary(olsrr)\n\n\nAttaching package: 'olsrr'\n\nThe following object is masked from 'package:datasets':\n\n    rivers\n\nlibrary(GWmodel)\n\nLoading required package: robustbase\nLoading required package: sp\nLoading required package: Rcpp\nWelcome to GWmodel version 2.3-2.\n\nfinal_df&lt;-readRDS('all_census_dat.rdr')\n\n\n#correlation table for all independent variables\nindependent_dat&lt;-final_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(aian_pct = mean(American_Indian_and_Alaska_Native_alone/total_pop),\n            nhpt_pct = mean(Native_Hawaiian_and_Other_Pacific_Islander_alone/total_pop), \n            asian_pct = mean(Asian_alone/total_pop),\n            pct_black = mean(Black_or_African_American_alone/total_pop),\n            pct_white = mean(White_alone/total_pop),\n            unemployment=mean(not_in_labor_force/total_pop),\n            medincome_mean= mean(household_medincome),\n            bachelors = mean(bachelors_25/total_pop),\n            one_parent= mean(one_parent/total_house_units),\n            married_house= mean(married_households/total_house_units),\n            vacant_houses = mean(vacancy_status/total_house_units),\n            total_cases = sum(!duplicated(incident_num)))%&gt;%\n  select(-district_name,-total_cases)\n\ndependent_dat&lt;-final_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(total_cases = sum(!duplicated(incident_num)))\n\ncorrelation_coeffs &lt;- cor(dependent_dat$total_cases, independent_dat)\n\nvariable_names &lt;- colnames(independent_dat)\ncorrelation_values &lt;- as.vector(correlation_coeffs)\n\ncorrelation_df &lt;- data.frame(\n  Variable = variable_names,\n  Correlation_Coefficient = correlation_values\n)\n\nprint(correlation_df)\n\n         Variable Correlation_Coefficient\n1        aian_pct             0.005291498\n2        nhpt_pct            -0.472915178\n3       asian_pct            -0.266399181\n4       pct_black             0.691476968\n5       pct_white            -0.689920042\n6    unemployment             0.490301785\n7  medincome_mean            -0.609812831\n8       bachelors            -0.548791943\n9      one_parent             0.561080801\n10  married_house            -0.658854154\n11  vacant_houses             0.142751407\n\n\n\n#time to work plot \nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  na.omit(aggregate_time_to_work)%&gt;%\n  summarise(work_time= mean(aggregate_time_to_work), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes( work_time,total_cases))+\n  geom_point()+\n  geom_smooth(method ='lm')+\n  labs(y = 'Avg travel time to work',title = 'Avg Travel Time to Work and Total Cases')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n#income plot\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(medincome_mean= mean(household_medincome), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(district_name, medincome_mean,fill = total_cases))+\n  geom_bar(stat= 'identity')+\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+\n  labs(y = 'Avg median income',title = 'Avg Median Income and Total Cases Over All Years')\n\n\n\n\n\n#single parent plot \nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(single_household = mean(one_parent/ total_house_units),total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(district_name,single_household, fill = total_cases))+\n  geom_bar(stat= 'identity')+\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+\n  labs(title = 'Pct of Households with Single Parent')\n\n\n\n\n\n#ols all variables \n\nlm_dat&lt;-final_df%&gt;%\n  group_by(district_name, year)%&gt;%\n  summarise(aian_pct = mean(American_Indian_and_Alaska_Native_alone/total_pop),\n            nhpt_pct = mean(Native_Hawaiian_and_Other_Pacific_Islander_alone/total_pop), \n            asian_pct = mean(Asian_alone/total_pop),\n            pct_black = mean(Black_or_African_American_alone/total_pop),\n            pct_white = mean(White_alone/total_pop),\n            unemployment=mean(not_in_labor_force/total_pop),\n            medincome_mean= mean(household_medincome),\n            bachelors = mean(bachelors_25/total_pop),\n            one_parent= mean(one_parent/total_house_units),\n            married_house= mean(married_households/total_house_units),\n            vacant_houses = mean(vacancy_status/total_house_units),\n            travel_work = mean(aggregate_time_to_work),\n            total_cases = sum(!duplicated(incident_num)))\n\n`summarise()` has grouped output by 'district_name'. You can override using the\n`.groups` argument.\n\n#OLS with all variables \nols&lt;-lm(total_cases~travel_work+ pct_white+pct_black+asian_pct+nhpt_pct+aian_pct+district_name+ unemployment+ medincome_mean+bachelors+one_parent+ vacant_houses+married_house, data = lm_dat)\ncoeftest(ols, vcov. = vcovHC) # data is heteroskedastic, opted to use the heteroskedastic robust standard errors \n\n\nt test of coefficients:\n\n                              Estimate  Std. Error t value Pr(&gt;|t|)\n(Intercept)                 9.7937e+01  1.0228e+02  0.9575   0.3442\ntravel_work                -4.0187e-05  3.7838e-05 -1.0621   0.2947\npct_white                  -1.0627e+02  1.2048e+02 -0.8820   0.3832\npct_black                   1.1077e+02  8.1762e+01  1.3548   0.1833\nasian_pct                  -1.2785e+02  1.7671e+02 -0.7235   0.4737\nnhpt_pct                    2.2813e+03  2.7216e+03  0.8382   0.4070\naian_pct                   -4.9210e+02  5.5318e+02 -0.8896   0.3791\ndistrict_nameDorchester    -5.4193e+01  5.6794e+01 -0.9542   0.3459\ndistrict_nameEast Boston   -3.2850e+01  3.9127e+01 -0.8396   0.4063\ndistrict_nameHyde Park     -1.0153e+02  6.8889e+01 -1.4738   0.1486\ndistrict_nameJamaica Plain -4.6963e+01  3.9444e+01 -1.1906   0.2410\ndistrict_nameMattapan      -9.5009e+01  8.9801e+01 -1.0580   0.2966\ndistrict_nameRoxbury       -2.7633e+01  5.0993e+01 -0.5419   0.5910\ndistrict_nameSouth Boston  -1.1259e+01  2.9941e+01 -0.3760   0.7089\ndistrict_nameSouth End     -2.2583e+01  1.9381e+01 -1.1652   0.2510\nunemployment               -5.9114e+01  1.2267e+02 -0.4819   0.6326\nmedincome_mean             -1.4528e-04  2.4802e-04 -0.5858   0.5614\nbachelors                  -1.7955e+01  1.4549e+02 -0.1234   0.9024\none_parent                 -2.9040e+00  1.3005e+02 -0.0223   0.9823\nvacant_houses              -1.2311e+01  1.2749e+02 -0.0966   0.9236\nmarried_house               3.3916e+02  2.1558e+02  1.5733   0.1237\n\nsummary(ols) \n\n\nCall:\nlm(formula = total_cases ~ travel_work + pct_white + pct_black + \n    asian_pct + nhpt_pct + aian_pct + district_name + unemployment + \n    medincome_mean + bachelors + one_parent + vacant_houses + \n    married_house, data = lm_dat)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-15.505  -2.933   0.268   2.451  13.928 \n\nCoefficients:\n                             Estimate Std. Error t value Pr(&gt;|t|)  \n(Intercept)                 9.794e+01  7.725e+01   1.268   0.2124  \ntravel_work                -4.019e-05  3.357e-05  -1.197   0.2384  \npct_white                  -1.063e+02  8.608e+01  -1.235   0.2244  \npct_black                   1.108e+02  5.930e+01   1.868   0.0693 .\nasian_pct                  -1.278e+02  1.538e+02  -0.831   0.4110  \nnhpt_pct                    2.281e+03  2.363e+03   0.966   0.3402  \naian_pct                   -4.921e+02  5.243e+02  -0.939   0.3537  \ndistrict_nameDorchester    -5.419e+01  4.178e+01  -1.297   0.2023  \ndistrict_nameEast Boston   -3.285e+01  3.243e+01  -1.013   0.3173  \ndistrict_nameHyde Park     -1.015e+02  5.010e+01  -2.026   0.0496 *\ndistrict_nameJamaica Plain -4.696e+01  2.872e+01  -1.635   0.1101  \ndistrict_nameMattapan      -9.501e+01  6.238e+01  -1.523   0.1358  \ndistrict_nameRoxbury       -2.763e+01  3.612e+01  -0.765   0.4488  \ndistrict_nameSouth Boston  -1.126e+01  2.772e+01  -0.406   0.6868  \ndistrict_nameSouth End     -2.258e+01  1.882e+01  -1.200   0.2375  \nunemployment               -5.911e+01  9.358e+01  -0.632   0.5313  \nmedincome_mean             -1.453e-04  1.769e-04  -0.821   0.4164  \nbachelors                  -1.795e+01  1.178e+02  -0.152   0.8796  \none_parent                 -2.904e+00  1.260e+02  -0.023   0.9817  \nvacant_houses              -1.231e+01  1.089e+02  -0.113   0.9106  \nmarried_house               3.392e+02  1.763e+02   1.924   0.0617 .\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.091 on 39 degrees of freedom\n  (3 observations deleted due to missingness)\nMultiple R-squared:  0.9426,    Adjusted R-squared:  0.9131 \nF-statistic:    32 on 20 and 39 DF,  p-value: &lt; 2.2e-16\n\nvif(ols) #variables highly correlated, high pvalues, sign of coefficients opposite of their correlation,where you live is the best predictor of the total number of cases, \n\n                       GVIF Df GVIF^(1/(2*Df))\ntravel_work    6.591104e+01  1        8.118561\npct_white      6.032264e+02  1       24.560668\npct_black      3.741905e+02  1       19.344004\nasian_pct      1.338921e+02  1       11.571176\nnhpt_pct       4.085129e+00  1        2.021170\naian_pct       2.913079e+00  1        1.706774\ndistrict_name  8.835884e+10  8        4.832152\nunemployment   2.529459e+01  1        5.029372\nmedincome_mean 2.393767e+01  1        4.892614\nbachelors      1.775908e+02  1       13.326321\none_parent     1.548519e+02  1       12.443952\nvacant_houses  1.071442e+01  1        3.273289\nmarried_house  1.701447e+02  1       13.043953\n\nols_step_forward_p(ols)\n\n\n                               Stepwise Summary                                \n-----------------------------------------------------------------------------\nStep    Variable            AIC        SBC       SBIC        R2       Adj. R2 \n-----------------------------------------------------------------------------\n 0      Base Model        536.679    540.868    362.921    0.00000    0.00000 \n 1      district_name     400.745    421.689    216.894    0.92052    0.90805 \n 2      pct_black         398.355    421.393    215.182    0.92613    0.91283 \n 3      married_house     396.764    421.896    214.505    0.93042    0.91622 \n 4      pct_white         396.361    423.588    215.099    0.93315    0.91783 \n 5      medincome_mean    395.147    424.468    215.297    0.93664    0.92046 \n 6      travel_work       395.497    426.912    216.916    0.93836    0.92093 \n-----------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.969       RMSE                 5.088 \nR-Squared               0.938       MSE                 33.766 \nAdj. R-Squared          0.921       Coef. Var           29.372 \nPred R-Squared          0.900       AIC                395.497 \nMAE                     3.526       SBC                426.912 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    23642.970        13       1818.690    53.862    0.0000 \nResidual       1553.214        46         33.766                     \nTotal         25196.183        59                                    \n---------------------------------------------------------------------\n\n                                            Parameter Estimates                                              \n------------------------------------------------------------------------------------------------------------\n                     model        Beta    Std. Error    Std. Beta      t        Sig        lower      upper \n------------------------------------------------------------------------------------------------------------\n               (Intercept)      55.827        37.944                  1.471    0.148     -20.550    132.204 \n   district_nameDorchester     -48.253        27.773       -0.706    -1.737    0.089    -104.157      7.650 \n  district_nameEast Boston     -20.876        10.466       -0.346    -1.995    0.052     -41.944      0.192 \n    district_nameHyde Park     -87.876        31.210       -1.070    -2.816    0.007    -150.699    -25.053 \ndistrict_nameJamaica Plain     -39.413        16.384       -0.419    -2.406    0.020     -72.391     -6.434 \n     district_nameMattapan     -72.996        43.736       -1.144    -1.669    0.102    -161.031     15.040 \n      district_nameRoxbury     -19.653        24.449       -0.326    -0.804    0.426     -68.867     29.561 \n district_nameSouth Boston       4.960        10.713        0.082     0.463    0.646     -16.605     26.525 \n    district_nameSouth End     -26.366        14.177       -0.437    -1.860    0.069     -54.903      2.171 \n                 pct_black     102.308        49.003        1.281     2.088    0.042       3.670    200.947 \n             married_house     396.901       134.101        1.127     2.960    0.005     126.969    666.833 \n                 pct_white    -133.780        65.920       -1.465    -2.029    0.048    -266.471     -1.090 \n            medincome_mean       0.000         0.000       -0.148    -1.385    0.173       0.000      0.000 \n               travel_work       0.000         0.000       -0.214    -1.133    0.263       0.000      0.000 \n------------------------------------------------------------------------------------------------------------\n\n#attempted variable selection, all the districts were retained, hence their predictive power, travel_work, income, married households also selected based on their significance, \n\n\n#socio economic and race \n\nols&lt;-lm(total_cases~ asian_pct+pct_white+pct_black+nhpt_pct+aian_pct+travel_work+unemployment+medincome_mean+bachelors+one_parent+married_house, data = lm_dat)\ncoeftest(ols, vcov. = vcovHC)\n\n\nt test of coefficients:\n\n                  Estimate  Std. Error t value Pr(&gt;|t|)   \n(Intercept)     1.3063e+02  6.7256e+01  1.9423 0.057984 . \nasian_pct      -2.4715e+02  9.4098e+01 -2.6265 0.011544 * \npct_white      -1.2999e+02  5.6956e+01 -2.2823 0.026942 * \npct_black      -1.7560e+01  4.0330e+01 -0.4354 0.665222   \nnhpt_pct       -1.9587e+03  3.4125e+03 -0.5740 0.568667   \naian_pct        3.1088e+02  1.2231e+03  0.2542 0.800456   \ntravel_work    -4.6825e-05  2.4781e-05 -1.8895 0.064867 . \nunemployment    7.7196e+01  1.4762e+02  0.5229 0.603430   \nmedincome_mean -5.9961e-04  2.3820e-04 -2.5173 0.015220 * \nbachelors       2.0468e+02  7.3854e+01  2.7714 0.007918 **\none_parent     -1.4436e+02  7.9823e+01 -1.8085 0.076799 . \nmarried_house   8.1739e+01  1.0889e+02  0.7507 0.456515   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nvif(ols)\n\n     asian_pct      pct_white      pct_black       nhpt_pct       aian_pct \n      7.969246      55.376014      26.808796       2.857756       2.339456 \n   travel_work   unemployment medincome_mean      bachelors     one_parent \n      7.667755      13.536832       8.856232      20.632077      11.184373 \n married_house \n     10.914923 \n\nols_step_forward_p(ols) # medium income,bachelors,pct_asian, pct_white significant 5% level, one_parent,travel_work at 10%\n\n\n                               Stepwise Summary                                \n-----------------------------------------------------------------------------\nStep    Variable            AIC        SBC       SBIC        R2       Adj. R2 \n-----------------------------------------------------------------------------\n 0      Base Model        536.679    540.868    364.004    0.00000    0.00000 \n 1      pct_black         496.985    503.269    324.746    0.50087    0.49226 \n 2      travel_work       485.775    494.152    313.789    0.59951    0.58546 \n 3      medincome_mean    481.693    492.164    309.881    0.63812    0.61873 \n 4      asian_pct         478.236    490.802    306.879    0.66958    0.64555 \n 5      one_parent        471.328    485.989    301.496    0.71516    0.68879 \n-----------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.846       RMSE                10.937 \nR-Squared               0.715       MSE                132.904 \nAdj. R-Squared          0.689       Coef. Var           58.273 \nPred R-Squared          0.651       AIC                471.328 \nMAE                     8.960       SBC                485.989 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    18019.393         5       3603.879    27.116    0.0000 \nResidual       7176.791        54        132.904                     \nTotal         25196.183        59                                    \n---------------------------------------------------------------------\n\n                                      Parameter Estimates                                        \n------------------------------------------------------------------------------------------------\n         model        Beta    Std. Error    Std. Beta      t        Sig        lower      upper \n------------------------------------------------------------------------------------------------\n   (Intercept)     100.173        16.623                  6.026    0.000      66.845    133.500 \n     pct_black      46.698        11.284        0.585     4.138    0.000      24.075     69.321 \n   travel_work       0.000         0.000       -0.480    -5.526    0.000       0.000      0.000 \nmedincome_mean       0.000         0.000       -0.426    -4.158    0.000      -0.001      0.000 \n     asian_pct    -162.440        43.028       -0.469    -3.775    0.000    -248.706    -76.175 \n    one_parent    -149.799        50.957       -0.568    -2.940    0.005    -251.962    -47.637 \n------------------------------------------------------------------------------------------------\n\n#coefficeint signs alot more interpretable and align with correlation direction, \n\n#probably should add one more regression with interaction terms \n\n\n#map segregation index, relied on tidycensus book \n\nrace_data&lt;-c(\"White_alone\", \"Black_or_African_American_alone\",\n             \"American_Indian_and_Alaska_Native_alone\",\n             \"Asian_alone\", \"Native_Hawaiian_and_Other_Pacific_Islander_alone\")\n\n\npivot_race&lt;-final_df%&gt;%\n  group_by(year, GEOID_TRACT_20)%&gt;%\n  pivot_longer(race_data,names_to ='ethnicity',values_to = 'population_count')%&gt;%\n  ungroup()%&gt;%\n  group_by(ethnicity, GEOID_TRACT_20)%&gt;%\n  summarise(mean_population_count = mean(population_count))\n\nWarning: Using an external vector in selections was deprecated in tidyselect 1.1.0.\nℹ Please use `all_of()` or `any_of()` instead.\n  # Was:\n  data %&gt;% select(race_data)\n\n  # Now:\n  data %&gt;% select(all_of(race_data))\n\nSee &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.\n\n\n`summarise()` has grouped output by 'ethnicity'. You can override using the\n`.groups` argument.\n\nprint(pivot_race, n =100)\n\n# A tibble: 810 × 3\n# Groups:   ethnicity [5]\n    ethnicity                               GEOID_TRACT_20 mean_population_count\n    &lt;chr&gt;                                            &lt;dbl&gt;                 &lt;dbl&gt;\n  1 American_Indian_and_Alaska_Native_alone    25025000102                 111. \n  2 American_Indian_and_Alaska_Native_alone    25025000201                 111. \n  3 American_Indian_and_Alaska_Native_alone    25025000202                 111. \n  4 American_Indian_and_Alaska_Native_alone    25025000301                 111. \n  5 American_Indian_and_Alaska_Native_alone    25025000302                 111. \n  6 American_Indian_and_Alaska_Native_alone    25025000401                 111. \n  7 American_Indian_and_Alaska_Native_alone    25025000402                 111. \n  8 American_Indian_and_Alaska_Native_alone    25025000502                 111. \n  9 American_Indian_and_Alaska_Native_alone    25025000503                 111. \n 10 American_Indian_and_Alaska_Native_alone    25025000505                 111. \n 11 American_Indian_and_Alaska_Native_alone    25025000506                 111. \n 12 American_Indian_and_Alaska_Native_alone    25025000601                 111. \n 13 American_Indian_and_Alaska_Native_alone    25025000603                 111. \n 14 American_Indian_and_Alaska_Native_alone    25025000604                 111. \n 15 American_Indian_and_Alaska_Native_alone    25025000701                 111. \n 16 American_Indian_and_Alaska_Native_alone    25025010500                  38.6\n 17 American_Indian_and_Alaska_Native_alone    25025010600                  38.6\n 18 American_Indian_and_Alaska_Native_alone    25025010701                  38.6\n 19 American_Indian_and_Alaska_Native_alone    25025010702                  38.6\n 20 American_Indian_and_Alaska_Native_alone    25025010801                  38.6\n 21 American_Indian_and_Alaska_Native_alone    25025010802                  38.6\n 22 American_Indian_and_Alaska_Native_alone    25025050101                 313. \n 23 American_Indian_and_Alaska_Native_alone    25025050200                 313. \n 24 American_Indian_and_Alaska_Native_alone    25025050300                 313. \n 25 American_Indian_and_Alaska_Native_alone    25025050400                 313. \n 26 American_Indian_and_Alaska_Native_alone    25025050500                 313. \n 27 American_Indian_and_Alaska_Native_alone    25025050600                 313. \n 28 American_Indian_and_Alaska_Native_alone    25025050700                 313. \n 29 American_Indian_and_Alaska_Native_alone    25025050901                 313. \n 30 American_Indian_and_Alaska_Native_alone    25025051000                 313. \n 31 American_Indian_and_Alaska_Native_alone    25025051101                 313. \n 32 American_Indian_and_Alaska_Native_alone    25025051200                 313. \n 33 American_Indian_and_Alaska_Native_alone    25025060101                  44.7\n 34 American_Indian_and_Alaska_Native_alone    25025060200                  44.7\n 35 American_Indian_and_Alaska_Native_alone    25025060301                  44.7\n 36 American_Indian_and_Alaska_Native_alone    25025060400                  44.7\n 37 American_Indian_and_Alaska_Native_alone    25025060501                  44.7\n 38 American_Indian_and_Alaska_Native_alone    25025060601                  44.7\n 39 American_Indian_and_Alaska_Native_alone    25025060602                  44.7\n 40 American_Indian_and_Alaska_Native_alone    25025060700                  44.7\n 41 American_Indian_and_Alaska_Native_alone    25025060800                  44.7\n 42 American_Indian_and_Alaska_Native_alone    25025061000                  44.7\n 43 American_Indian_and_Alaska_Native_alone    25025061101                  44.7\n 44 American_Indian_and_Alaska_Native_alone    25025061201                  44.7\n 45 American_Indian_and_Alaska_Native_alone    25025061202                 145. \n 46 American_Indian_and_Alaska_Native_alone    25025061203                  44.7\n 47 American_Indian_and_Alaska_Native_alone    25025061204                  44.7\n 48 American_Indian_and_Alaska_Native_alone    25025070102                  20.2\n 49 American_Indian_and_Alaska_Native_alone    25025070103                  20.2\n 50 American_Indian_and_Alaska_Native_alone    25025070104                  72.5\n 51 American_Indian_and_Alaska_Native_alone    25025070201                  38.6\n 52 American_Indian_and_Alaska_Native_alone    25025070202                  29.4\n 53 American_Indian_and_Alaska_Native_alone    25025070301                  38.6\n 54 American_Indian_and_Alaska_Native_alone    25025070302                  38.6\n 55 American_Indian_and_Alaska_Native_alone    25025070402                  91.8\n 56 American_Indian_and_Alaska_Native_alone    25025070501                 145. \n 57 American_Indian_and_Alaska_Native_alone    25025070502                 145. \n 58 American_Indian_and_Alaska_Native_alone    25025070600                  91.8\n 59 American_Indian_and_Alaska_Native_alone    25025070700                  38.6\n 60 American_Indian_and_Alaska_Native_alone    25025070801                 145. \n 61 American_Indian_and_Alaska_Native_alone    25025070802                 145. \n 62 American_Indian_and_Alaska_Native_alone    25025070901                 145. \n 63 American_Indian_and_Alaska_Native_alone    25025070902                 145. \n 64 American_Indian_and_Alaska_Native_alone    25025071101                 145. \n 65 American_Indian_and_Alaska_Native_alone    25025071201                 145. \n 66 American_Indian_and_Alaska_Native_alone    25025080100                 282. \n 67 American_Indian_and_Alaska_Native_alone    25025080300                 301. \n 68 American_Indian_and_Alaska_Native_alone    25025080401                 177. \n 69 American_Indian_and_Alaska_Native_alone    25025080500                 177. \n 70 American_Indian_and_Alaska_Native_alone    25025080601                 177. \n 71 American_Indian_and_Alaska_Native_alone    25025080801                  57.4\n 72 American_Indian_and_Alaska_Native_alone    25025080900                  57.4\n 73 American_Indian_and_Alaska_Native_alone    25025081001                  57.4\n 74 American_Indian_and_Alaska_Native_alone    25025081101                 169. \n 75 American_Indian_and_Alaska_Native_alone    25025081102                  65.5\n 76 American_Indian_and_Alaska_Native_alone    25025081200                 169. \n 77 American_Indian_and_Alaska_Native_alone    25025081301                 301. \n 78 American_Indian_and_Alaska_Native_alone    25025081302                 301. \n 79 American_Indian_and_Alaska_Native_alone    25025081400                 179. \n 80 American_Indian_and_Alaska_Native_alone    25025081500                 301. \n 81 American_Indian_and_Alaska_Native_alone    25025081700                 301. \n 82 American_Indian_and_Alaska_Native_alone    25025081800                 214. \n 83 American_Indian_and_Alaska_Native_alone    25025081900                 214. \n 84 American_Indian_and_Alaska_Native_alone    25025082000                  60.2\n 85 American_Indian_and_Alaska_Native_alone    25025082100                  60.2\n 86 American_Indian_and_Alaska_Native_alone    25025090100                  60.2\n 87 American_Indian_and_Alaska_Native_alone    25025090200                  60.2\n 88 American_Indian_and_Alaska_Native_alone    25025090300                 122. \n 89 American_Indian_and_Alaska_Native_alone    25025090400                 206. \n 90 American_Indian_and_Alaska_Native_alone    25025090600                 259. \n 91 American_Indian_and_Alaska_Native_alone    25025090700                 163. \n 92 American_Indian_and_Alaska_Native_alone    25025090901                 184. \n 93 American_Indian_and_Alaska_Native_alone    25025091001                 113. \n 94 American_Indian_and_Alaska_Native_alone    25025091100                 184. \n 95 American_Indian_and_Alaska_Native_alone    25025091200                 184. \n 96 American_Indian_and_Alaska_Native_alone    25025091300                 184. \n 97 American_Indian_and_Alaska_Native_alone    25025091400                 184. \n 98 American_Indian_and_Alaska_Native_alone    25025091500                 113. \n 99 American_Indian_and_Alaska_Native_alone    25025091600                  41.2\n100 American_Indian_and_Alaska_Native_alone    25025091700                  41.2\n# ℹ 710 more rows\n\nboston_local_seg &lt;- pivot_race %&gt;%\n  mutual_local(\n    group = \"ethnicity\",\n    unit = \"GEOID_TRACT_20\",\n    weight = \"mean_population_count\", \n    wide = TRUE\n  )%&gt;%\n  rename(GEOID = GEOID_TRACT_20)\n\nboston_local_seg$GEOID&lt;-as.character(boston_local_seg$GEOID)\n\nMA_tracts_seg &lt;- tracts(\"MA\", cb = TRUE, year = 2020) %&gt;%\n  inner_join(boston_local_seg, by = \"GEOID\") \n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |==========                                                            |  14%\n  |                                                                            \n  |=============                                                         |  18%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |=====================                                                 |  29%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |===============================                                       |  45%\n  |                                                                            \n  |=================================                                     |  47%\n  |                                                                            \n  |===================================                                   |  49%\n  |                                                                            \n  |=======================================                               |  56%\n  |                                                                            \n  |=========================================                             |  58%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |==============================================                        |  65%\n  |                                                                            \n  |=================================================                     |  70%\n  |                                                                            \n  |==================================================                    |  72%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |=========================================================             |  81%\n  |                                                                            \n  |=============================================================         |  88%\n  |                                                                            \n  |===============================================================       |  90%\n  |                                                                            \n  |=================================================================     |  92%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |======================================================================| 100%\n\nwith_geometry &lt;- get_acs(\n  geography = \"tract\",\n  variables = c(total_house_units = 'B25001_001'),\n  state = \"MA\",\n  geometry = TRUE,\n  year = 2021\n)\n\nGetting data from the 2017-2021 5-year ACS\n\n\nWarning: • You have not set a Census API key. Users without a key are limited to 500\nqueries per day and may experience performance limitations.\nℹ For best results, get a Census API key at\nhttp://api.census.gov/data/key_signup.html and then supply the key to the\n`census_api_key()` function to use it throughout your tidycensus session.\nThis warning is displayed once per session.\n\n\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |=========                                                             |  13%\n  |                                                                            \n  |===========                                                           |  15%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |=======================                                               |  33%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |============================                                          |  40%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |========================================================              |  81%\n  |                                                                            \n  |==============================================================        |  88%\n  |                                                                            \n  |=================================================================     |  93%\n  |                                                                            \n  |======================================================================| 100%\n\nMA_tracts_seg%&gt;%\n  ggplot(aes(fill = ls)) + \n  geom_sf(color = NA) + \n  coord_sf(crs = st_crs(with_geometry))+\n  scale_fill_viridis_c(option = \"inferno\") + \n  theme_void() + \n  labs(fill = \"Local\\nsegregation index\")\n\n\n\n#compare this to geospatial weighted regression maps \n\n\n#Geography weighted Regression \n\n#Implemented with the GWmodel R package and spgwr package that offer a methods for a geographical robust weighted regreession\n# The GWR model computes a local regression model for each location, while including a distance decay function, or a weight added to sum of linear combinations which specifies how observations outside the current location will be weighted\n# relative to their distance. A kernel bandwith is implemented to determine the cutoff distnace for observations that will be included for a locations set of linear combinations\n# The GWR model returns local parameter estimates, and the local R-squared quatifying how much variance was captured in a given area. We plot the R-squared statistic for each location in our data below\n#\n\n\n#best data to run this is just socio economic,\nols&lt;-lm(total_cases~ unemployment+medincome_mean+bachelors+one_parent+ vacant_houses+married_house, data = lm_dat)\ncoeftest(ols, vcov. = vcovHC)\n\n\nt test of coefficients:\n\n                  Estimate  Std. Error t value  Pr(&gt;|t|)    \n(Intercept)    -3.8347e+01  2.7392e+01 -1.3999  0.167045    \nunemployment    2.8739e+02  6.3091e+01  4.5551 2.876e-05 ***\nmedincome_mean  2.3703e-04  1.2438e-04  1.9056  0.061837 .  \nbachelors      -6.6980e+00  3.0756e+01 -0.2178  0.828395    \none_parent      1.0580e+02  5.4337e+01  1.9471  0.056539 .  \nvacant_houses  -3.1210e+02  9.6895e+01 -3.2210  0.002129 ** \nmarried_house  -1.2581e+02  5.2585e+01 -2.3924  0.020117 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nsummary(ols)\n\n\nCall:\nlm(formula = total_cases ~ unemployment + medincome_mean + bachelors + \n    one_parent + vacant_houses + married_house, data = lm_dat)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-31.945  -7.541  -1.986   5.430  35.924 \n\nCoefficients:\n                 Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)    -3.835e+01  2.915e+01  -1.316  0.19368    \nunemployment    2.874e+02  5.892e+01   4.878 9.27e-06 ***\nmedincome_mean  2.370e-04  1.446e-04   1.639  0.10677    \nbachelors      -6.698e+00  4.712e+01  -0.142  0.88747    \none_parent      1.058e+02  5.555e+01   1.905  0.06198 .  \nvacant_houses  -3.121e+02  9.893e+01  -3.155  0.00258 ** \nmarried_house  -1.258e+02  5.093e+01  -2.470  0.01658 *  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 13.89 on 56 degrees of freedom\nMultiple R-squared:  0.6012,    Adjusted R-squared:  0.5585 \nF-statistic: 14.07 on 6 and 56 DF,  p-value: 1.09e-09\n\nvif(ols)\n\n  unemployment medincome_mean      bachelors     one_parent  vacant_houses \n      1.932586       3.284613       5.747253       6.509955       1.709476 \n married_house \n      3.102446 \n\nols_step_forward_p(ols) #variable selction, use the subset, look at statistically significant variables, unemployment has good predictive power  \n\n\n                               Stepwise Summary                                \n-----------------------------------------------------------------------------\nStep    Variable            AIC        SBC       SBIC        R2       Adj. R2 \n-----------------------------------------------------------------------------\n 0      Base Model        564.807    569.093    384.310    0.00000    0.00000 \n 1      one_parent        540.219    546.649    359.970    0.34428    0.33354 \n 2      unemployment      523.092    531.664    343.856    0.51599    0.49985 \n 3      vacant_houses     521.363    532.079    342.444    0.54380    0.52060 \n 4      married_house     518.361    531.220    340.214    0.57862    0.54956 \n 5      medincome_mean    516.914    531.916    339.592    0.60105    0.56606 \n-----------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.775       RMSE                13.098 \nR-Squared               0.601       MSE                189.611 \nAdj. R-Squared          0.566       Coef. Var           65.621 \nPred R-Squared          0.513       AIC                516.914 \nMAE                     9.801       SBC                531.916 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    16283.143         5       3256.629    17.175    0.0000 \nResidual      10807.841        57        189.611                     \nTotal         27090.984        62                                    \n---------------------------------------------------------------------\n\n                                       Parameter Estimates                                        \n-------------------------------------------------------------------------------------------------\n         model        Beta    Std. Error    Std. Beta      t        Sig        lower       upper \n-------------------------------------------------------------------------------------------------\n   (Intercept)     -40.710        23.741                 -1.715    0.092     -88.250       6.831 \n    one_parent     111.453        38.466        0.432     2.897    0.005      34.426     188.481 \n  unemployment     289.787        55.970        0.577     5.178    0.000     177.709     401.865 \n vacant_houses    -310.211        97.187       -0.346    -3.192    0.002    -504.825    -115.598 \n married_house    -123.882        48.674       -0.362    -2.545    0.014    -221.351     -26.414 \nmedincome_mean       0.000         0.000        0.241     1.790    0.079       0.000       0.000 \n-------------------------------------------------------------------------------------------------\n\ngeo_dat&lt;-final_df%&gt;%\n  group_by(district_name,year)%&gt;%\n  summarise(aian_pct = mean(American_Indian_and_Alaska_Native_alone/total_pop),\n            nhpt_pct = mean(Native_Hawaiian_and_Other_Pacific_Islander_alone/total_pop), \n            asian_pct = mean(Asian_alone/total_pop),\n            pct_black = mean(Black_or_African_American_alone/total_pop),\n            pct_white = mean(White_alone/total_pop),\n            unemployment=mean(not_in_labor_force/total_pop),\n            medincome_mean= mean(household_medincome),\n            bachelors = mean(bachelors_25/total_pop),\n            one_parent= mean(one_parent/total_house_units),\n            married_house= mean(married_households/total_house_units),\n            vacant_houses = mean(vacancy_status/total_house_units),\n            travel_work = mean(aggregate_time_to_work),\n            total_cases = sum(!duplicated(incident_num)),\n            geometry = geometry)%&gt;%\n  distinct()\n\nWarning: Returning more (or less) than 1 row per `summarise()` group was deprecated in\ndplyr 1.1.0.\nℹ Please use `reframe()` instead.\nℹ When switching from `summarise()` to `reframe()`, remember that `reframe()`\n  always returns an ungrouped data frame and adjust accordingly.\n\n\n`summarise()` has grouped output by 'district_name', 'year'. You can override\nusing the `.groups` argument.\n\ngeo_reg&lt;-st_as_sf(geo_dat)%&gt;%\n  as_Spatial()\n\n#limitation: travel_work has na values, cannot include this in model, even though it would be great to have that plotted \n\n#other variables we should add to aid analysis?\n\nformula2 &lt;- \"total_cases~ unemployment+ vacant_houses+medincome_mean+bachelors+one_parent+married_house\"\n\nbw &lt;- bw.gwr(\n  formula = formula2, \n  data = geo_reg, \n  kernel = \"bisquare\",\n  adaptive = TRUE\n)\n\nAdaptive bandwidth: 847 CV score: 71130.37 \nAdaptive bandwidth: 531 CV score: 51708.41 \nAdaptive bandwidth: 335 CV score: 43495.66 \nAdaptive bandwidth: 214 CV score: 37727.55 \nAdaptive bandwidth: 139 CV score: 33522.04 \nAdaptive bandwidth: 93 CV score: 32181.93 \nAdaptive bandwidth: 64 CV score: 39041.94 \nAdaptive bandwidth: 110 CV score: 31995.46 \nAdaptive bandwidth: 122 CV score: 32516.51 \nAdaptive bandwidth: 104 CV score: 32005.56 \nAdaptive bandwidth: 115 CV score: 32030.55 \nAdaptive bandwidth: 108 CV score: 32090.78 \nAdaptive bandwidth: 112 CV score: 32049.14 \nAdaptive bandwidth: 109 CV score: 31976.19 \nAdaptive bandwidth: 108 CV score: 32090.78 \nAdaptive bandwidth: 109 CV score: 31976.19 \n\ngw_model &lt;- gwr.basic(\n  formula = formula2, \n  data = geo_reg, \n  bw = bw,\n  kernel = \"bisquare\",\n  adaptive = TRUE\n)\n\ngw_model_results &lt;- gw_model$SDF %&gt;%\n  st_as_sf() \n\n#map for R^2\nggplot(gw_model_results, aes(fill = Local_R2)) + \n  geom_sf(color = NA) + \n  scale_fill_viridis_c() + \n  theme_void()\n\n\n\n#great R-squared and all of our variables are statistically significant at least 10% level, this is good\n\n#map for beta, choose the fill variable/beta coefficient \n\n#where is the effect positive and negative, \nggplot(gw_model_results, aes(fill = unemployment)) + \n  geom_sf(color = NA) + \n  scale_fill_viridis_c() + \n  theme_void() + \n  labs(fill = \"Local β Unemployment\")"
  },
  {
    "objectID": "Analysis_page.html",
    "href": "Analysis_page.html",
    "title": "Analysis page",
    "section": "",
    "text": "final_df&lt;-readRDS('all_census_dat.rdr')\n\n#write.csv(merge_geometry, file = \"census_dat.csv\",row.names = FALSE)\n\nlibrary(tidycensus)\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(sandwich)\nlibrary(lmtest)\n\nLoading required package: zoo\n\nAttaching package: 'zoo'\n\nThe following objects are masked from 'package:base':\n\n    as.Date, as.Date.numeric\n\nlibrary(car)\n\nLoading required package: carData\n\nAttaching package: 'car'\n\nThe following object is masked from 'package:dplyr':\n\n    recode\n\nThe following object is masked from 'package:purrr':\n\n    some\n\nlibrary(leaps)\nlibrary(segregation)\nlibrary(tigris)\n\nTo enable caching of data, set `options(tigris_use_cache = TRUE)`\nin your R script or .Rprofile.\n\nlibrary(sf)\n\nLinking to GEOS 3.11.0, GDAL 3.5.3, PROJ 9.1.0; sf_use_s2() is TRUE\n\nlibrary(olsrr)\n\n\nAttaching package: 'olsrr'\n\nThe following object is masked from 'package:datasets':\n\n    rivers\n\n#shows correlation between income and total cases for each district. Lower income =&gt; more cases \n\n#time to work plot \n\n\nfinal_df%&gt;%\n  group_by(district_name,year)%&gt;%\n  na.omit(aggregate_time_to_work)%&gt;%\n  summarise(work_time= mean(aggregate_time_to_work), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes( work_time,total_cases))+\n  geom_point()+\n  geom_smooth(method ='lm')+\n  labs(y = 'Avg travel time to work',title = 'Avg Travel Time to Work and Total Cases')\n\n`summarise()` has grouped output by 'district_name'. You can override using the\n`.groups` argument.\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n#income plot\ncorrelation_coef &lt;- final_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(medincome_mean= mean(household_medincome), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  summarise(correlation_coef = round(cor(total_cases, medincome_mean),2))\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(medincome_mean= mean(household_medincome), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(district_name, medincome_mean,fill = total_cases))+\n  geom_bar(stat= 'identity')+\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+\n  labs(y = 'Avg median income',title = 'Avg Median Income and Total Cases Over All Years')+\n  annotate(\"text\", x = Inf, y = Inf, label = paste(\"Correlation coefficient: \", correlation_coef), hjust = 1.5, vjust = 1)\n\n\n\n#scatterplot with line of best fit \nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(medincome_mean= mean(household_medincome), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes( medincome_mean,total_cases))+\n  geom_point()+\n  geom_smooth(method ='lm')+\n  labs(y = 'Avg median income',title = 'Avg Median Income and Total Cases Over All Years')+\n  annotate(\"text\", x = Inf, y = Inf, label = paste(\"Correlation coefficient: \", correlation_coef), hjust = 1.5, vjust = 1)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n#Bachelors degree plot\ncorrelation_coef &lt;- final_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(pct_not_enrolled= mean(bachelors_25/total_pop), total_cases = sum(!duplicated(incident_num)))%&gt;%\n  summarise(correlation_coef = round(cor(total_cases, pct_not_enrolled),2))\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(pct_bachelors= mean(bachelors_25/total_pop), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(district_name, pct_bachelors,fill = total_cases))+\n  geom_bar(stat= 'identity')+\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+\n  labs(y = 'Pct of Population with Bachelors ',title = 'Bachelors Degree and Total Cases')+\n  annotate(\"text\", x = Inf, y = Inf, label = paste(\"Correlation coefficient: \", correlation_coef), hjust = 1.5, vjust = 1)\n\n\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(pct_bachelors= mean(bachelors_25/total_pop), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(pct_bachelors, total_cases))+\n  geom_point()+\n  geom_smooth(method ='lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n#not in labor force plot\ncorrelation_coef &lt;- final_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(unemployment_pct= mean(not_in_labor_force/total_pop), total_cases = sum(!duplicated(incident_num)))%&gt;%\n  summarise(correlation_coef = round(cor(total_cases, unemployment_pct),2))\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(unemployment_pct= mean(not_in_labor_force/total_pop), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(district_name, unemployment_pct,fill = total_cases))+\n  geom_bar(stat= 'identity')+\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+\n  labs(y = 'Pct Unemployed',title = 'Avg Unemployment and Total Cases')+\n  annotate(\"text\", x = Inf, y = Inf, label = paste(\"Correlation coefficient: \", correlation_coef), hjust = 1.5, vjust = 1)\n\n\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(unemployment_pct= mean(not_in_labor_force/total_pop), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(unemployment_pct, total_cases))+\n  geom_point()+\n  geom_smooth(method ='lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n#total cases for districts plot\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(district_name,total_cases))+\n  geom_bar(stat= 'identity')+\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+\n  labs(title = 'Total Cases by District')\n\n\n\n#single parent household plot\ncorrelation_coef &lt;- final_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(single_household = mean(one_parent/ total_pop),total_cases = sum(!duplicated(incident_num))) %&gt;%\n  summarise(correlation_coef = round(cor(single_household, total_cases),2))\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(single_household = mean(one_parent/ total_pop),total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(district_name,single_household, fill = total_cases))+\n  geom_bar(stat= 'identity')+\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+\n  labs(title = 'Pct of Households with Single Parent')+\n  annotate(\"text\", x = Inf, y = Inf, label = paste(\"Correlation coefficient: \", correlation_coef), hjust = 1.5, vjust = 1)\n\n\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(single_household = mean(one_parent/ total_pop),total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(single_household, total_cases))+\n  geom_point()+\n  geom_smooth(method ='lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n#married househomes\ncorrelation_coef &lt;- final_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(married_house = mean(married_households/total_house_units),total_cases = sum(!duplicated(incident_num))) %&gt;%\n  summarise(correlation_coef = round(cor(married_house, total_cases),2))\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(married_house_pct= mean(married_households/total_house_units), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(district_name, married_house_pct,fill = total_cases))+\n  geom_bar(stat='identity')+\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+\n  labs(y = 'Avg Pct Married Households',title = 'Avg Married Households and Total Cases ')+\n  annotate(\"text\", x = Inf, y = Inf, label = paste(\"Correlation coefficient: \", correlation_coef), hjust = 1.5, vjust = 1)\n\n\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(married_house_pct= mean(married_households/total_house_units), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(married_house_pct, total_cases))+\n  geom_point()+\n  geom_smooth(method ='lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n#vacant househomes\n\ncorrelation_coef &lt;- final_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(vaccant_house = mean(vacancy_status/total_house_units),total_cases = sum(!duplicated(incident_num))) %&gt;%\n  summarise(correlation_coef = round(cor(vaccant_house, total_cases),2))\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(vaccant_house_pct= mean(vacancy_status/total_house_units), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(district_name, vaccant_house_pct,fill = total_cases))+\n  geom_bar(stat='identity')+\n  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+\n  labs(y = 'Vacant Households ',title = 'Avg Vacant Households and Total Cases')+\n  annotate(\"text\", x = Inf, y = Inf, label = paste(\"Correlation coefficient: \", correlation_coef), hjust = 1.5, vjust = 1)\n\n\n\nfinal_df%&gt;%\n  group_by(district_name)%&gt;%\n  summarise(vaccant_house_pct= mean(vacancy_status/total_house_units), total_cases = sum(!duplicated(incident_num))) %&gt;%\n  ggplot(aes(vaccant_house_pct, total_cases))+\n  geom_point()+\n  geom_smooth(method ='lm')\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\nlm_dat&lt;-final_df%&gt;%\n  group_by(district_name, year)%&gt;%\n  summarise(aian_pct = mean(American_Indian_and_Alaska_Native_alone/total_pop),\n            nhpt_pct = mean(Native_Hawaiian_and_Other_Pacific_Islander_alone/total_pop), \n            asian_pct = mean(Asian_alone/total_pop),\n            pct_black = mean(Black_or_African_American_alone/total_pop),\n            pct_white = mean(White_alone/total_pop),\n            unemployment=mean(not_in_labor_force/total_pop),\n            medincome_mean= mean(household_medincome),\n            bachelors = mean(bachelors_25/total_pop),\n            one_parent= mean(one_parent/total_house_units),\n            married_house= mean(married_households/total_house_units),\n            vacant_houses = mean(vacancy_status/total_house_units),\n            travel_work = mean(aggregate_time_to_work),\n            total_cases = sum(!duplicated(incident_num)))\n\n`summarise()` has grouped output by 'district_name'. You can override using the\n`.groups` argument.\n\n#OLS with all variables \nols&lt;-lm(total_cases~travel_work+ pct_white+pct_black+asian_pct+nhpt_pct+aian_pct+district_name+ unemployment+ medincome_mean+bachelors+one_parent+ vacant_houses+married_house, data = lm_dat)\ncoeftest(ols, vcov. = vcovHC)\n\n\nt test of coefficients:\n\n                              Estimate  Std. Error t value Pr(&gt;|t|)\n(Intercept)                 9.7937e+01  1.0228e+02  0.9575   0.3442\ntravel_work                -4.0187e-05  3.7838e-05 -1.0621   0.2947\npct_white                  -1.0627e+02  1.2048e+02 -0.8820   0.3832\npct_black                   1.1077e+02  8.1762e+01  1.3548   0.1833\nasian_pct                  -1.2785e+02  1.7671e+02 -0.7235   0.4737\nnhpt_pct                    2.2813e+03  2.7216e+03  0.8382   0.4070\naian_pct                   -4.9210e+02  5.5318e+02 -0.8896   0.3791\ndistrict_nameDorchester    -5.4193e+01  5.6794e+01 -0.9542   0.3459\ndistrict_nameEast Boston   -3.2850e+01  3.9127e+01 -0.8396   0.4063\ndistrict_nameHyde Park     -1.0153e+02  6.8889e+01 -1.4738   0.1486\ndistrict_nameJamaica Plain -4.6963e+01  3.9444e+01 -1.1906   0.2410\ndistrict_nameMattapan      -9.5009e+01  8.9801e+01 -1.0580   0.2966\ndistrict_nameRoxbury       -2.7633e+01  5.0993e+01 -0.5419   0.5910\ndistrict_nameSouth Boston  -1.1259e+01  2.9941e+01 -0.3760   0.7089\ndistrict_nameSouth End     -2.2583e+01  1.9381e+01 -1.1652   0.2510\nunemployment               -5.9114e+01  1.2267e+02 -0.4819   0.6326\nmedincome_mean             -1.4528e-04  2.4802e-04 -0.5858   0.5614\nbachelors                  -1.7955e+01  1.4549e+02 -0.1234   0.9024\none_parent                 -2.9040e+00  1.3005e+02 -0.0223   0.9823\nvacant_houses              -1.2311e+01  1.2749e+02 -0.0966   0.9236\nmarried_house               3.3916e+02  2.1558e+02  1.5733   0.1237\n\nsummary(ols) #92 adjusted Rsquared good for forecasting\n\n\nCall:\nlm(formula = total_cases ~ travel_work + pct_white + pct_black + \n    asian_pct + nhpt_pct + aian_pct + district_name + unemployment + \n    medincome_mean + bachelors + one_parent + vacant_houses + \n    married_house, data = lm_dat)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-15.505  -2.933   0.268   2.451  13.928 \n\nCoefficients:\n                             Estimate Std. Error t value Pr(&gt;|t|)  \n(Intercept)                 9.794e+01  7.725e+01   1.268   0.2124  \ntravel_work                -4.019e-05  3.357e-05  -1.197   0.2384  \npct_white                  -1.063e+02  8.608e+01  -1.235   0.2244  \npct_black                   1.108e+02  5.930e+01   1.868   0.0693 .\nasian_pct                  -1.278e+02  1.538e+02  -0.831   0.4110  \nnhpt_pct                    2.281e+03  2.363e+03   0.966   0.3402  \naian_pct                   -4.921e+02  5.243e+02  -0.939   0.3537  \ndistrict_nameDorchester    -5.419e+01  4.178e+01  -1.297   0.2023  \ndistrict_nameEast Boston   -3.285e+01  3.243e+01  -1.013   0.3173  \ndistrict_nameHyde Park     -1.015e+02  5.010e+01  -2.026   0.0496 *\ndistrict_nameJamaica Plain -4.696e+01  2.872e+01  -1.635   0.1101  \ndistrict_nameMattapan      -9.501e+01  6.238e+01  -1.523   0.1358  \ndistrict_nameRoxbury       -2.763e+01  3.612e+01  -0.765   0.4488  \ndistrict_nameSouth Boston  -1.126e+01  2.772e+01  -0.406   0.6868  \ndistrict_nameSouth End     -2.258e+01  1.882e+01  -1.200   0.2375  \nunemployment               -5.911e+01  9.358e+01  -0.632   0.5313  \nmedincome_mean             -1.453e-04  1.769e-04  -0.821   0.4164  \nbachelors                  -1.795e+01  1.178e+02  -0.152   0.8796  \none_parent                 -2.904e+00  1.260e+02  -0.023   0.9817  \nvacant_houses              -1.231e+01  1.089e+02  -0.113   0.9106  \nmarried_house               3.392e+02  1.763e+02   1.924   0.0617 .\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.091 on 39 degrees of freedom\n  (3 observations deleted due to missingness)\nMultiple R-squared:  0.9426,    Adjusted R-squared:  0.9131 \nF-statistic:    32 on 20 and 39 DF,  p-value: &lt; 2.2e-16\n\nvif(ols) # vif, look for correlated variables,anything above 5 high collinearity, below 1 no collinearity, above 1 medium collinearity \n\n                       GVIF Df GVIF^(1/(2*Df))\ntravel_work    6.591104e+01  1        8.118561\npct_white      6.032264e+02  1       24.560668\npct_black      3.741905e+02  1       19.344004\nasian_pct      1.338921e+02  1       11.571176\nnhpt_pct       4.085129e+00  1        2.021170\naian_pct       2.913079e+00  1        1.706774\ndistrict_name  8.835884e+10  8        4.832152\nunemployment   2.529459e+01  1        5.029372\nmedincome_mean 2.393767e+01  1        4.892614\nbachelors      1.775908e+02  1       13.326321\none_parent     1.548519e+02  1       12.443952\nvacant_houses  1.071442e+01  1        3.273289\nmarried_house  1.701447e+02  1       13.043953\n\nols_step_forward_p(ols) #forward and backwards variable selection \n\n\n                               Stepwise Summary                                \n-----------------------------------------------------------------------------\nStep    Variable            AIC        SBC       SBIC        R2       Adj. R2 \n-----------------------------------------------------------------------------\n 0      Base Model        536.679    540.868    362.921    0.00000    0.00000 \n 1      district_name     400.745    421.689    216.894    0.92052    0.90805 \n 2      pct_black         398.355    421.393    215.182    0.92613    0.91283 \n 3      married_house     396.764    421.896    214.505    0.93042    0.91622 \n 4      pct_white         396.361    423.588    215.099    0.93315    0.91783 \n 5      medincome_mean    395.147    424.468    215.297    0.93664    0.92046 \n 6      travel_work       395.497    426.912    216.916    0.93836    0.92093 \n-----------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.969       RMSE                 5.088 \nR-Squared               0.938       MSE                 33.766 \nAdj. R-Squared          0.921       Coef. Var           29.372 \nPred R-Squared          0.900       AIC                395.497 \nMAE                     3.526       SBC                426.912 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    23642.970        13       1818.690    53.862    0.0000 \nResidual       1553.214        46         33.766                     \nTotal         25196.183        59                                    \n---------------------------------------------------------------------\n\n                                            Parameter Estimates                                              \n------------------------------------------------------------------------------------------------------------\n                     model        Beta    Std. Error    Std. Beta      t        Sig        lower      upper \n------------------------------------------------------------------------------------------------------------\n               (Intercept)      55.827        37.944                  1.471    0.148     -20.550    132.204 \n   district_nameDorchester     -48.253        27.773       -0.706    -1.737    0.089    -104.157      7.650 \n  district_nameEast Boston     -20.876        10.466       -0.346    -1.995    0.052     -41.944      0.192 \n    district_nameHyde Park     -87.876        31.210       -1.070    -2.816    0.007    -150.699    -25.053 \ndistrict_nameJamaica Plain     -39.413        16.384       -0.419    -2.406    0.020     -72.391     -6.434 \n     district_nameMattapan     -72.996        43.736       -1.144    -1.669    0.102    -161.031     15.040 \n      district_nameRoxbury     -19.653        24.449       -0.326    -0.804    0.426     -68.867     29.561 \n district_nameSouth Boston       4.960        10.713        0.082     0.463    0.646     -16.605     26.525 \n    district_nameSouth End     -26.366        14.177       -0.437    -1.860    0.069     -54.903      2.171 \n                 pct_black     102.308        49.003        1.281     2.088    0.042       3.670    200.947 \n             married_house     396.901       134.101        1.127     2.960    0.005     126.969    666.833 \n                 pct_white    -133.780        65.920       -1.465    -2.029    0.048    -266.471     -1.090 \n            medincome_mean       0.000         0.000       -0.148    -1.385    0.173       0.000      0.000 \n               travel_work       0.000         0.000       -0.214    -1.133    0.263       0.000      0.000 \n------------------------------------------------------------------------------------------------------------\n\nols_step_backward_p(ols)\n\n\n                               Stepwise Summary                               \n----------------------------------------------------------------------------\nStep    Variable           AIC        SBC       SBIC        R2       Adj. R2 \n----------------------------------------------------------------------------\n 0      Full Model       405.251    451.327    235.476    0.94257    0.91311 \n 1      one_parent       403.252    447.233    232.399    0.94257    0.91528 \n 2      vacant_houses    401.271    443.158    229.330    0.94255    0.91732 \n 3      bachelors        399.321    439.113    226.279    0.94250    0.91923 \n 4      unemployment     398.064    435.762    223.611    0.94178    0.92012 \n 5      nhpt_pct         397.058    432.662    221.170    0.94081    0.92063 \n 6      aian_pct         396.155    429.665    218.901    0.93972    0.92096 \n 7      asian_pct        395.497    426.912    216.916    0.93836    0.92093 \n----------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.969       RMSE                 5.088 \nR-Squared               0.938       MSE                 33.766 \nAdj. R-Squared          0.921       Coef. Var           29.372 \nPred R-Squared          0.900       AIC                395.497 \nMAE                     3.526       SBC                426.912 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    23642.970        13       1818.690    53.862    0.0000 \nResidual       1553.214        46         33.766                     \nTotal         25196.183        59                                    \n---------------------------------------------------------------------\n\n                                            Parameter Estimates                                              \n------------------------------------------------------------------------------------------------------------\n                     model        Beta    Std. Error    Std. Beta      t        Sig        lower      upper \n------------------------------------------------------------------------------------------------------------\n               (Intercept)      55.827        37.944                  1.471    0.148     -20.550    132.204 \n               travel_work       0.000         0.000       -0.214    -1.133    0.263       0.000      0.000 \n                 pct_white    -133.780        65.920       -1.465    -2.029    0.048    -266.471     -1.090 \n                 pct_black     102.308        49.003        1.281     2.088    0.042       3.670    200.947 \n   district_nameDorchester     -48.253        27.773       -0.706    -1.737    0.089    -104.157      7.650 \n  district_nameEast Boston     -20.876        10.466       -0.346    -1.995    0.052     -41.944      0.192 \n    district_nameHyde Park     -87.876        31.210       -1.070    -2.816    0.007    -150.699    -25.053 \ndistrict_nameJamaica Plain     -39.413        16.384       -0.419    -2.406    0.020     -72.391     -6.434 \n     district_nameMattapan     -72.996        43.736       -1.144    -1.669    0.102    -161.031     15.040 \n      district_nameRoxbury     -19.653        24.449       -0.326    -0.804    0.426     -68.867     29.561 \n district_nameSouth Boston       4.960        10.713        0.082     0.463    0.646     -16.605     26.525 \n    district_nameSouth End     -26.366        14.177       -0.437    -1.860    0.069     -54.903      2.171 \n            medincome_mean       0.000         0.000       -0.148    -1.385    0.173       0.000      0.000 \n             married_house     396.901       134.101        1.127     2.960    0.005     126.969    666.833 \n------------------------------------------------------------------------------------------------------------\n\n#OLS socieoeconomic variables \nols&lt;-lm(total_cases~ travel_work+unemployment +medincome_mean+bachelors+one_parent+married_house, data = lm_dat)\ncoeftest(ols, vcov. = vcovHC)\n\n\nt test of coefficients:\n\n                  Estimate  Std. Error t value Pr(&gt;|t|)   \n(Intercept)     9.4852e+01  5.1242e+01  1.8511 0.069735 . \ntravel_work    -6.4966e-05  2.1939e-05 -2.9612 0.004577 **\nunemployment   -7.4452e+01  9.3756e+01 -0.7941 0.430679   \nmedincome_mean -3.6212e-04  2.2675e-04 -1.5971 0.116199   \nbachelors       2.9285e+01  4.4059e+01  0.6647 0.509138   \none_parent      6.6162e+01  5.6817e+01  1.1645 0.249451   \nmarried_house  -5.2963e+01  4.7830e+01 -1.1073 0.273149   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nsummary(ols)\n\n\nCall:\nlm(formula = total_cases ~ travel_work + unemployment + medincome_mean + \n    bachelors + one_parent + married_house, data = lm_dat)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-24.287  -9.171  -2.724   8.861  29.983 \n\nCoefficients:\n                 Estimate Std. Error t value Pr(&gt;|t|)   \n(Intercept)     9.485e+01  5.419e+01   1.750  0.08586 . \ntravel_work    -6.497e-05  2.026e-05  -3.207  0.00228 **\nunemployment   -7.445e+01  1.056e+02  -0.705  0.48379   \nmedincome_mean -3.621e-04  1.915e-04  -1.891  0.06407 . \nbachelors       2.929e+01  4.853e+01   0.603  0.54878   \none_parent      6.616e+01  6.081e+01   1.088  0.28155   \nmarried_house  -5.296e+01  4.668e+01  -1.135  0.26165   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 14.14 on 53 degrees of freedom\n  (3 observations deleted due to missingness)\nMultiple R-squared:  0.5797,    Adjusted R-squared:  0.5321 \nF-statistic: 12.18 on 6 and 53 DF,  p-value: 1.472e-08\n\nvif(ols)\n\n   travel_work   unemployment medincome_mean      bachelors     one_parent \n      4.458621       5.978254       5.209543       5.598985       6.697242 \n married_house \n      2.214488 \n\nols_step_forward_p(ols)\n\n\n                               Stepwise Summary                                \n-----------------------------------------------------------------------------\nStep    Variable            AIC        SBC       SBIC        R2       Adj. R2 \n-----------------------------------------------------------------------------\n 0      Base Model        536.679    540.868    364.808    0.00000    0.00000 \n 1      bachelors         516.965    523.248    345.225    0.30365    0.29164 \n 2      travel_work       502.456    510.833    331.562    0.47115    0.45259 \n 3      married_house     497.438    507.910    327.257    0.52952    0.50432 \n 4      medincome_mean    497.020    509.586    327.272    0.54811    0.51524 \n 5      one_parent        495.238    509.899    326.395    0.57571    0.53642 \n-----------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                           \n----------------------------------------------------------------\nR                        0.759       RMSE                13.348 \nR-Squared                0.576       MSE                197.972 \nAdj. R-Squared           0.536       Coef. Var           71.122 \nPred R-Squared           0.487       AIC                495.238 \nMAE                     10.939       SBC                509.899 \n----------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    14505.712         5       2901.142    14.654    0.0000 \nResidual      10690.472        54        197.972                     \nTotal         25196.183        59                                    \n---------------------------------------------------------------------\n\n                                      Parameter Estimates                                       \n-----------------------------------------------------------------------------------------------\n         model       Beta    Std. Error    Std. Beta      t        Sig        lower      upper \n-----------------------------------------------------------------------------------------------\n   (Intercept)     58.228        15.403                  3.780    0.000      27.346     89.110 \n     bachelors     32.335        48.110        0.140     0.672    0.504     -64.120    128.791 \n   travel_work      0.000         0.000       -0.490    -4.996    0.000       0.000      0.000 \n married_house    -47.530        45.825       -0.135    -1.037    0.304    -139.404     44.344 \nmedincome_mean      0.000         0.000       -0.287    -1.934    0.058      -0.001      0.000 \n    one_parent     91.511        48.825        0.347     1.874    0.066      -6.377    189.399 \n-----------------------------------------------------------------------------------------------\n\nols_step_backward_p(ols)\n\n\n                              Stepwise Summary                               \n---------------------------------------------------------------------------\nStep    Variable          AIC        SBC       SBIC        R2       Adj. R2 \n---------------------------------------------------------------------------\n 0      Full Model      496.678    513.433    328.220    0.57965    0.53207 \n 1      bachelors       495.089    509.749    326.278    0.57677    0.53758 \n 2      unemployment    493.738    506.304    324.563    0.57216    0.54105 \n---------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                           \n----------------------------------------------------------------\nR                        0.756       RMSE                13.404 \nR-Squared                0.572       MSE                195.998 \nAdj. R-Squared           0.541       Coef. Var           70.766 \nPred R-Squared           0.495       AIC                493.738 \nMAE                     10.997       SBC                506.304 \n----------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    14416.283         4       3604.071    18.388    0.0000 \nResidual      10779.900        55        195.998                     \nTotal         25196.183        59                                    \n---------------------------------------------------------------------\n\n                                      Parameter Estimates                                       \n-----------------------------------------------------------------------------------------------\n         model       Beta    Std. Error    Std. Beta      t        Sig        lower      upper \n-----------------------------------------------------------------------------------------------\n   (Intercept)     62.366        14.049                  4.439    0.000      34.212     90.520 \n   travel_work      0.000         0.000       -0.465    -5.154    0.000       0.000      0.000 \nmedincome_mean      0.000         0.000       -0.222    -1.976    0.053       0.000      0.000 \n    one_parent     68.863        35.156        0.261     1.959    0.055      -1.592    139.318 \n married_house    -53.755        44.655       -0.153    -1.204    0.234    -143.246     35.736 \n-----------------------------------------------------------------------------------------------\n\nplot(ols)\n\n\n\n\n\n\n\n\n\n\n\n\n#OLS race and socieoeconomic variables\nols&lt;-lm(total_cases~ asian_pct+pct_white+pct_black+nhpt_pct+aian_pct+travel_work+unemployment +medincome_mean+bachelors+one_parent+married_house, data = lm_dat)\ncoeftest(ols, vcov. = vcovHC)\n\n\nt test of coefficients:\n\n                  Estimate  Std. Error t value Pr(&gt;|t|)   \n(Intercept)     1.3063e+02  6.7256e+01  1.9423 0.057984 . \nasian_pct      -2.4715e+02  9.4098e+01 -2.6265 0.011544 * \npct_white      -1.2999e+02  5.6956e+01 -2.2823 0.026942 * \npct_black      -1.7560e+01  4.0330e+01 -0.4354 0.665222   \nnhpt_pct       -1.9587e+03  3.4125e+03 -0.5740 0.568667   \naian_pct        3.1088e+02  1.2231e+03  0.2542 0.800456   \ntravel_work    -4.6825e-05  2.4781e-05 -1.8895 0.064867 . \nunemployment    7.7196e+01  1.4762e+02  0.5229 0.603430   \nmedincome_mean -5.9961e-04  2.3820e-04 -2.5173 0.015220 * \nbachelors       2.0468e+02  7.3854e+01  2.7714 0.007918 **\none_parent     -1.4436e+02  7.9823e+01 -1.8085 0.076799 . \nmarried_house   8.1739e+01  1.0889e+02  0.7507 0.456515   \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nsummary(ols)\n\n\nCall:\nlm(formula = total_cases ~ asian_pct + pct_white + pct_black + \n    nhpt_pct + aian_pct + travel_work + unemployment + medincome_mean + \n    bachelors + one_parent + married_house, data = lm_dat)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-24.3517  -6.8675   0.5879   5.6504  21.9139 \n\nCoefficients:\n                 Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)     1.306e+02  5.228e+01   2.498 0.015951 *  \nasian_pct      -2.471e+02  6.861e+01  -3.602 0.000747 ***\npct_white      -1.300e+02  4.768e+01  -2.726 0.008916 ** \npct_black      -1.756e+01  2.902e+01  -0.605 0.547983    \nnhpt_pct       -1.959e+03  3.613e+03  -0.542 0.590233    \naian_pct        3.109e+02  8.590e+02   0.362 0.719018    \ntravel_work    -4.683e-05  2.093e-05  -2.237 0.029956 *  \nunemployment    7.720e+01  1.252e+02   0.617 0.540297    \nmedincome_mean -5.996e-04  1.967e-04  -3.049 0.003734 ** \nbachelors       2.047e+02  7.339e+01   2.789 0.007559 ** \none_parent     -1.444e+02  6.191e+01  -2.332 0.023967 *  \nmarried_house   8.174e+01  8.164e+01   1.001 0.321769    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 11.14 on 48 degrees of freedom\n  (3 observations deleted due to missingness)\nMultiple R-squared:  0.7637,    Adjusted R-squared:  0.7096 \nF-statistic: 14.11 on 11 and 48 DF,  p-value: 1.45e-11\n\nvif(ols)\n\n     asian_pct      pct_white      pct_black       nhpt_pct       aian_pct \n      7.969246      55.376014      26.808796       2.857756       2.339456 \n   travel_work   unemployment medincome_mean      bachelors     one_parent \n      7.667755      13.536832       8.856232      20.632077      11.184373 \n married_house \n     10.914923 \n\nols_step_forward_p(ols)\n\n\n                               Stepwise Summary                                \n-----------------------------------------------------------------------------\nStep    Variable            AIC        SBC       SBIC        R2       Adj. R2 \n-----------------------------------------------------------------------------\n 0      Base Model        536.679    540.868    364.004    0.00000    0.00000 \n 1      pct_black         496.985    503.269    324.746    0.50087    0.49226 \n 2      travel_work       485.775    494.152    313.789    0.59951    0.58546 \n 3      medincome_mean    481.693    492.164    309.881    0.63812    0.61873 \n 4      asian_pct         478.236    490.802    306.879    0.66958    0.64555 \n 5      one_parent        471.328    485.989    301.496    0.71516    0.68879 \n-----------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.846       RMSE                10.937 \nR-Squared               0.715       MSE                132.904 \nAdj. R-Squared          0.689       Coef. Var           58.273 \nPred R-Squared          0.651       AIC                471.328 \nMAE                     8.960       SBC                485.989 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    18019.393         5       3603.879    27.116    0.0000 \nResidual       7176.791        54        132.904                     \nTotal         25196.183        59                                    \n---------------------------------------------------------------------\n\n                                      Parameter Estimates                                        \n------------------------------------------------------------------------------------------------\n         model        Beta    Std. Error    Std. Beta      t        Sig        lower      upper \n------------------------------------------------------------------------------------------------\n   (Intercept)     100.173        16.623                  6.026    0.000      66.845    133.500 \n     pct_black      46.698        11.284        0.585     4.138    0.000      24.075     69.321 \n   travel_work       0.000         0.000       -0.480    -5.526    0.000       0.000      0.000 \nmedincome_mean       0.000         0.000       -0.426    -4.158    0.000      -0.001      0.000 \n     asian_pct    -162.440        43.028       -0.469    -3.775    0.000    -248.706    -76.175 \n    one_parent    -149.799        50.957       -0.568    -2.940    0.005    -251.962    -47.637 \n------------------------------------------------------------------------------------------------\n\nols_step_backward_p(ols)\n\n\n                              Stepwise Summary                               \n---------------------------------------------------------------------------\nStep    Variable          AIC        SBC       SBIC        R2       Adj. R2 \n---------------------------------------------------------------------------\n 0      Full Model      472.112    499.339    307.715    0.76373    0.70958 \n 1      aian_pct        470.276    495.408    305.307    0.76308    0.71473 \n 2      nhpt_pct        468.594    491.632    303.007    0.76182    0.71895 \n 3      unemployment    467.023    487.966    300.804    0.76012    0.72249 \n 4      pct_black       465.460    484.309    298.644    0.75836    0.72583 \n---------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.871       RMSE                10.073 \nR-Squared               0.758       MSE                117.084 \nAdj. R-Squared          0.726       Coef. Var           54.695 \nPred R-Squared          0.683       AIC                465.460 \nMAE                     8.094       SBC                484.309 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    19107.822         7       2729.689    23.314    0.0000 \nResidual       6088.362        52        117.084                     \nTotal         25196.183        59                                    \n---------------------------------------------------------------------\n\n                                       Parameter Estimates                                        \n-------------------------------------------------------------------------------------------------\n         model        Beta    Std. Error    Std. Beta      t        Sig        lower       upper \n-------------------------------------------------------------------------------------------------\n   (Intercept)     144.109        20.189                  7.138    0.000     103.597     184.622 \n     asian_pct    -212.156        44.434       -0.612    -4.775    0.000    -301.319    -122.994 \n     pct_white    -111.545        27.583       -1.221    -4.044    0.000    -166.895     -56.195 \n   travel_work       0.000         0.000       -0.538    -6.344    0.000       0.000       0.000 \nmedincome_mean      -0.001         0.000       -0.700    -5.262    0.000      -0.001       0.000 \n     bachelors     180.057        52.901        0.782     3.404    0.001      73.903     286.211 \n    one_parent    -142.547        55.966       -0.540    -2.547    0.014    -254.851     -30.242 \n married_house     108.821        69.717        0.309     1.561    0.125     -31.077     248.719 \n-------------------------------------------------------------------------------------------------\n\nplot(ols)\n\n\n\n\n\n\n\n\n\n\n\n\n#OLS socieoeconomic and location\nols&lt;-lm(total_cases~travel_work+district_name+ unemployment+ medincome_mean+bachelors+one_parent+vacant_houses+married_house, data = lm_dat)\ncoeftest(ols, vcov. = vcovHC)\n\n\nt test of coefficients:\n\n                              Estimate  Std. Error t value Pr(&gt;|t|)  \n(Intercept)                 1.6828e+01  5.5427e+01  0.3036  0.76287  \ntravel_work                -1.6749e-05  3.2469e-05 -0.5159  0.60853  \ndistrict_nameDorchester     2.4232e+01  2.9318e+01  0.8265  0.41298  \ndistrict_nameEast Boston   -1.0101e+01  2.2265e+01 -0.4537  0.65230  \ndistrict_nameHyde Park     -2.5818e+00  3.0135e+01 -0.0857  0.93211  \ndistrict_nameJamaica Plain -1.3413e+00  2.0267e+01 -0.0662  0.94754  \ndistrict_nameMattapan       4.5283e+01  3.4173e+01  1.3251  0.19197  \ndistrict_nameRoxbury        4.7227e+01  2.1294e+01  2.2178  0.03178 *\ndistrict_nameSouth Boston  -1.0937e+01  2.2289e+01 -0.4907  0.62609  \ndistrict_nameSouth End      3.7975e+00  1.7222e+01  0.2205  0.82650  \nunemployment               -1.1044e+02  1.3417e+02 -0.8231  0.41487  \nmedincome_mean             -1.2695e-04  1.7467e-04 -0.7268  0.47119  \nbachelors                   3.8170e+01  9.3347e+01  0.4089  0.68460  \none_parent                  7.1493e+01  1.3505e+02  0.5294  0.59920  \nvacant_houses               3.0212e+01  1.1801e+02  0.2560  0.79913  \nmarried_house               1.2300e+02  1.2927e+02  0.9515  0.34655  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nsummary(ols)\n\n\nCall:\nlm(formula = total_cases ~ travel_work + district_name + unemployment + \n    medincome_mean + bachelors + one_parent + vacant_houses + \n    married_house, data = lm_dat)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-20.2346  -2.4600  -0.3183   2.5535  14.5437 \n\nCoefficients:\n                             Estimate Std. Error t value Pr(&gt;|t|)  \n(Intercept)                 1.683e+01  5.376e+01   0.313    0.756  \ntravel_work                -1.675e-05  2.638e-05  -0.635    0.529  \ndistrict_nameDorchester     2.423e+01  2.262e+01   1.071    0.290  \ndistrict_nameEast Boston   -1.010e+01  1.821e+01  -0.555    0.582  \ndistrict_nameHyde Park     -2.582e+00  2.592e+01  -0.100    0.921  \ndistrict_nameJamaica Plain -1.341e+00  1.972e+01  -0.068    0.946  \ndistrict_nameMattapan       4.528e+01  2.718e+01   1.666    0.103  \ndistrict_nameRoxbury        4.723e+01  1.956e+01   2.414    0.020 *\ndistrict_nameSouth Boston  -1.094e+01  1.933e+01  -0.566    0.574  \ndistrict_nameSouth End      3.798e+00  1.533e+01   0.248    0.805  \nunemployment               -1.104e+02  9.054e+01  -1.220    0.229  \nmedincome_mean             -1.269e-04  1.598e-04  -0.795    0.431  \nbachelors                   3.817e+01  1.010e+02   0.378    0.707  \none_parent                  7.149e+01  1.243e+02   0.575    0.568  \nvacant_houses               3.021e+01  9.914e+01   0.305    0.762  \nmarried_house               1.230e+02  1.327e+02   0.927    0.359  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.379 on 44 degrees of freedom\n  (3 observations deleted due to missingness)\nMultiple R-squared:  0.9289,    Adjusted R-squared:  0.9047 \nF-statistic: 38.34 on 15 and 44 DF,  p-value: &lt; 2.2e-16\n\nvif(ols)\n\n                       GVIF Df GVIF^(1/(2*Df))\ntravel_work    3.710835e+01  1        6.091663\ndistrict_name  1.948618e+07  8        2.855012\nunemployment   2.158975e+01  1        4.646478\nmedincome_mean 1.781252e+01  1        4.220488\nbachelors      1.191075e+02  1       10.913640\none_parent     1.374741e+02  1       11.724935\nvacant_houses  8.095400e+00  1        2.845242\nmarried_house  8.786643e+01  1        9.373709\n\nols_step_forward_p(ols)\n\n\n                               Stepwise Summary                               \n----------------------------------------------------------------------------\nStep    Variable           AIC        SBC       SBIC        R2       Adj. R2 \n----------------------------------------------------------------------------\n 0      Base Model       536.679    540.868    362.969    0.00000    0.00000 \n 1      district_name    400.745    421.689    217.254    0.92052    0.90805 \n 2      married_house    400.000    423.038    217.233    0.92407    0.91041 \n----------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.961       RMSE                 5.647 \nR-Squared               0.924       MSE                 38.262 \nAdj. R-Squared          0.910       Coef. Var           31.267 \nPred R-Squared          0.891       AIC                400.000 \nMAE                     3.905       SBC                423.038 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    23283.101         9       2587.011    67.614    0.0000 \nResidual       1913.083        50         38.262                     \nTotal         25196.183        59                                    \n---------------------------------------------------------------------\n\n                                           Parameter Estimates                                             \n----------------------------------------------------------------------------------------------------------\n                     model       Beta    Std. Error    Std. Beta      t        Sig       lower      upper \n----------------------------------------------------------------------------------------------------------\n               (Intercept)    -17.728        13.159                 -1.347    0.184    -44.159      8.704 \n   district_nameDorchester     37.700         7.433        0.552     5.072    0.000     22.771     52.630 \n  district_nameEast Boston     -1.122         3.424       -0.019    -0.328    0.744     -8.000      5.755 \n    district_nameHyde Park      9.007         3.830        0.110     2.352    0.023      1.314     16.700 \ndistrict_nameJamaica Plain     -0.415         7.923       -0.004    -0.052    0.958    -16.329     15.499 \n     district_nameMattapan     61.188        11.581        0.959     5.283    0.000     37.927     84.449 \n      district_nameRoxbury     53.152         3.093        0.882    17.185    0.000     46.939     59.364 \n district_nameSouth Boston      0.240         4.107        0.004     0.058    0.954     -8.010      8.490 \n    district_nameSouth End      5.235         3.121        0.087     1.677    0.100     -1.034     11.503 \n             married_house    123.648        80.821        0.351     1.530    0.132    -38.686    285.981 \n----------------------------------------------------------------------------------------------------------\n\nols_step_backward_p(ols)\n\n\n                               Stepwise Summary                               \n----------------------------------------------------------------------------\nStep    Variable           AIC        SBC       SBIC        R2       Adj. R2 \n----------------------------------------------------------------------------\n 0      Full Model       408.032    443.636    230.040    0.92893    0.90470 \n 1      vacant_houses    406.158    439.668    227.398    0.92878    0.90663 \n 2      bachelors        404.353    435.768    224.815    0.92855    0.90836 \n 3      one_parent       402.612    431.932    222.299    0.92824    0.90992 \n 4      travel_work      400.969    428.195    219.887    0.92781    0.91127 \n 5      married_house    399.525    424.657    217.675    0.92714    0.91227 \n----------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.963       RMSE                 5.531 \nR-Squared               0.927       MSE                 37.464 \nAdj. R-Squared          0.912       Coef. Var           30.939 \nPred R-Squared          0.889       AIC                399.525 \nMAE                     3.921       SBC                424.657 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    23360.430        10       2336.043    62.354    0.0000 \nResidual       1835.753        49         37.464                     \nTotal         25196.183        59                                    \n---------------------------------------------------------------------\n\n                                            Parameter Estimates                                             \n-----------------------------------------------------------------------------------------------------------\n                     model        Beta    Std. Error    Std. Beta      t        Sig        lower     upper \n-----------------------------------------------------------------------------------------------------------\n               (Intercept)      40.850        19.124                  2.136    0.038       2.419    79.282 \n   district_nameDorchester      26.743         3.493        0.392     7.656    0.000      19.723    33.763 \n  district_nameEast Boston      -5.088         4.331       -0.084    -1.175    0.246     -13.792     3.615 \n    district_nameHyde Park       9.000         3.773        0.110     2.385    0.021       1.417    16.582 \ndistrict_nameJamaica Plain      12.247         4.599        0.130     2.663    0.010       3.005    21.488 \n     district_nameMattapan      41.288         3.486        0.647    11.842    0.000      34.282    48.295 \n      district_nameRoxbury      57.659         4.362        0.956    13.217    0.000      48.892    66.426 \n district_nameSouth Boston       3.796         4.221        0.063     0.899    0.373      -4.687    12.279 \n    district_nameSouth End      14.662         5.393        0.243     2.719    0.009       3.824    25.500 \n              unemployment    -114.947        62.695       -0.237    -1.833    0.073    -240.937    11.043 \n            medincome_mean       0.000         0.000       -0.162    -1.895    0.064       0.000     0.000 \n-----------------------------------------------------------------------------------------------------------\n\n#OLS race and location\nols&lt;-lm(total_cases~ pct_white+pct_black+asian_pct+nhpt_pct+aian_pct+district_name, data = lm_dat)\ncoeftest(ols, vcov. = vcovHC)\n\n\nt test of coefficients:\n\n                            Estimate Std. Error t value Pr(&gt;|t|)  \n(Intercept)                  28.8940    30.5825  0.9448  0.34940  \npct_white                    -8.9926    22.0541 -0.4078  0.68523  \npct_black                    94.9207    50.9320  1.8637  0.06837 .\nasian_pct                  -158.0074   144.2129 -1.0957  0.27859  \nnhpt_pct                    -51.6230   932.5152 -0.0554  0.95608  \naian_pct                   -389.9836   408.4770 -0.9547  0.34440  \ndistrict_nameDorchester     -22.3687    26.4583 -0.8454  0.40198  \ndistrict_nameEast Boston    -14.2234    16.7741 -0.8479  0.40059  \ndistrict_nameHyde Park      -52.8076    32.5581 -1.6220  0.11123  \ndistrict_nameJamaica Plain  -11.5852    15.2060 -0.7619  0.44978  \ndistrict_nameMattapan       -57.7040    49.6506 -1.1622  0.25078  \ndistrict_nameRoxbury         14.9736    22.3076  0.6712  0.50522  \ndistrict_nameSouth Boston   -11.5943    14.1452 -0.8197  0.41638  \ndistrict_nameSouth End        5.8088     5.5926  1.0387  0.30406  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nsummary(ols)\n\n\nCall:\nlm(formula = total_cases ~ pct_white + pct_black + asian_pct + \n    nhpt_pct + aian_pct + district_name, data = lm_dat)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-20.1410  -2.8804  -0.1689   2.8696  15.1280 \n\nCoefficients:\n                           Estimate Std. Error t value Pr(&gt;|t|)  \n(Intercept)                  28.894     41.454   0.697   0.4891  \npct_white                    -8.993     38.177  -0.236   0.8148  \npct_black                    94.921     39.090   2.428   0.0189 *\nasian_pct                  -158.007    144.681  -1.092   0.2801  \nnhpt_pct                    -51.623   2054.182  -0.025   0.9801  \naian_pct                   -389.984    462.795  -0.843   0.4035  \ndistrict_nameDorchester     -22.369     28.958  -0.772   0.4436  \ndistrict_nameEast Boston    -14.223     18.606  -0.764   0.4483  \ndistrict_nameHyde Park      -52.808     32.871  -1.606   0.1146  \ndistrict_nameJamaica Plain  -11.585     15.202  -0.762   0.4497  \ndistrict_nameMattapan       -57.704     49.681  -1.161   0.2511  \ndistrict_nameRoxbury         14.974     21.627   0.692   0.4920  \ndistrict_nameSouth Boston   -11.594     13.695  -0.847   0.4013  \ndistrict_nameSouth End        5.809      7.285   0.797   0.4291  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 6.35 on 49 degrees of freedom\nMultiple R-squared:  0.9271,    Adjusted R-squared:  0.9077 \nF-statistic: 47.91 on 13 and 49 DF,  p-value: &lt; 2.2e-16\n\nvif(ols)\n\n                      GVIF Df GVIF^(1/(2*Df))\npct_white     1.201084e+02  1       10.959399\npct_black     1.672543e+02  1       12.932683\nasian_pct     1.119818e+02  1       10.582145\nnhpt_pct      2.897137e+00  1        1.702098\naian_pct      2.134580e+00  1        1.461020\ndistrict_name 3.743316e+05  8        2.230122\n\nols_step_forward_p(ols)\n\n\n                               Stepwise Summary                               \n----------------------------------------------------------------------------\nStep    Variable           AIC        SBC       SBIC        R2       Adj. R2 \n----------------------------------------------------------------------------\n 0      Base Model       564.807    569.093    382.566    0.00000    0.00000 \n 1      district_name    425.492    446.924    233.098    0.91502    0.90243 \n 2      pct_black        420.148    443.723    228.686    0.92437    0.91153 \n----------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.961       RMSE                 5.703 \nR-Squared               0.924       MSE                 38.659 \nAdj. R-Squared          0.912       Coef. Var           29.630 \nPred R-Squared          0.893       AIC                420.148 \nMAE                     3.790       SBC                443.723 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    25042.061         9       2782.451    71.974    0.0000 \nResidual       2048.923        53         38.659                     \nTotal         27090.984        62                                    \n---------------------------------------------------------------------\n\n                                           Parameter Estimates                                             \n----------------------------------------------------------------------------------------------------------\n                     model       Beta    Std. Error    Std. Beta      t        Sig       lower      upper \n----------------------------------------------------------------------------------------------------------\n               (Intercept)     -2.949         2.960                 -0.996    0.324     -8.886      2.988 \n   district_nameDorchester     -9.976        16.210       -0.160    -0.615    0.541    -42.490     22.538 \n  district_nameEast Boston      3.183         3.211        0.051     0.991    0.326     -3.258      9.624 \n    district_nameHyde Park    -30.348        16.168       -0.357    -1.877    0.066    -62.776      2.080 \ndistrict_nameJamaica Plain      2.152         5.179        0.022     0.416    0.679     -8.235     12.540 \n     district_nameMattapan    -30.403        29.474       -0.488    -1.032    0.307    -89.520     28.714 \n      district_nameRoxbury     27.997        10.297        0.450     2.719    0.009      7.344     48.650 \n district_nameSouth Boston      3.525         3.127        0.057     1.127    0.265     -2.746      9.796 \n    district_nameSouth End      0.302         3.795        0.005     0.079    0.937     -7.311      7.914 \n                 pct_black     97.303        38.011        1.242     2.560    0.013     21.062    173.545 \n----------------------------------------------------------------------------------------------------------\n\nols_step_backward_p(ols)\n\n\n                             Stepwise Summary                              \n-------------------------------------------------------------------------\nStep    Variable        AIC        SBC       SBIC        R2       Adj. R2 \n-------------------------------------------------------------------------\n 0      Full Model    425.856    458.003    236.907    0.92707    0.90772 \n 1      nhpt_pct      423.857    453.861    234.336    0.92707    0.90957 \n 2      pct_white     421.930    449.791    231.824    0.92699    0.91124 \n 3      aian_pct      420.883    446.601    230.076    0.92587    0.91162 \n 4      asian_pct     420.148    443.723    228.686    0.92437    0.91153 \n-------------------------------------------------------------------------\n\nFinal Model Output \n------------------\n\n                         Model Summary                          \n---------------------------------------------------------------\nR                       0.961       RMSE                 5.703 \nR-Squared               0.924       MSE                 38.659 \nAdj. R-Squared          0.912       Coef. Var           29.630 \nPred R-Squared          0.893       AIC                420.148 \nMAE                     3.790       SBC                443.723 \n---------------------------------------------------------------\n RMSE: Root Mean Square Error \n MSE: Mean Square Error \n MAE: Mean Absolute Error \n AIC: Akaike Information Criteria \n SBC: Schwarz Bayesian Criteria \n\n                                ANOVA                                 \n---------------------------------------------------------------------\n                 Sum of                                              \n                Squares        DF    Mean Square      F         Sig. \n---------------------------------------------------------------------\nRegression    25042.061         9       2782.451    71.974    0.0000 \nResidual       2048.923        53         38.659                     \nTotal         27090.984        62                                    \n---------------------------------------------------------------------\n\n                                           Parameter Estimates                                             \n----------------------------------------------------------------------------------------------------------\n                     model       Beta    Std. Error    Std. Beta      t        Sig       lower      upper \n----------------------------------------------------------------------------------------------------------\n               (Intercept)     -2.949         2.960                 -0.996    0.324     -8.886      2.988 \n                 pct_black     97.303        38.011        1.242     2.560    0.013     21.062    173.545 \n   district_nameDorchester     -9.976        16.210       -0.160    -0.615    0.541    -42.490     22.538 \n  district_nameEast Boston      3.183         3.211        0.051     0.991    0.326     -3.258      9.624 \n    district_nameHyde Park    -30.348        16.168       -0.357    -1.877    0.066    -62.776      2.080 \ndistrict_nameJamaica Plain      2.152         5.179        0.022     0.416    0.679     -8.235     12.540 \n     district_nameMattapan    -30.403        29.474       -0.488    -1.032    0.307    -89.520     28.714 \n      district_nameRoxbury     27.997        10.297        0.450     2.719    0.009      7.344     48.650 \n district_nameSouth Boston      3.525         3.127        0.057     1.127    0.265     -2.746      9.796 \n    district_nameSouth End      0.302         3.795        0.005     0.079    0.937     -7.311      7.914 \n----------------------------------------------------------------------------------------------------------\n\n#Spatial analysis \nwith_geometry &lt;- get_acs(\n  geography = \"tract\",\n  variables = c(total_house_units = 'B25001_001'),\n  state = \"MA\",\n  geometry = TRUE,\n  year = 2021\n)\n\nGetting data from the 2017-2021 5-year ACS\n\n\nWarning: • You have not set a Census API key. Users without a key are limited to 500\nqueries per day and may experience performance limitations.\nℹ For best results, get a Census API key at\nhttp://api.census.gov/data/key_signup.html and then supply the key to the\n`census_api_key()` function to use it throughout your tidycensus session.\nThis warning is displayed once per session.\n\n\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n\n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |==                                                                    |   3%\n  |                                                                            \n  |====                                                                  |   5%\n  |                                                                            \n  |=====                                                                 |   8%\n  |                                                                            \n  |=======                                                               |  10%\n  |                                                                            \n  |===========                                                           |  15%\n  |                                                                            \n  |============                                                          |  18%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |================                                                      |  23%\n  |                                                                            \n  |==================                                                    |  25%\n  |                                                                            \n  |====================                                                  |  28%\n  |                                                                            \n  |=====================                                                 |  31%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |===========================                                           |  38%\n  |                                                                            \n  |==============================                                        |  43%\n  |                                                                            \n  |================================                                      |  45%\n  |                                                                            \n  |=====================================                                 |  53%\n  |                                                                            \n  |=======================================                               |  55%\n  |                                                                            \n  |============================================                          |  63%\n  |                                                                            \n  |==============================================                        |  66%\n  |                                                                            \n  |================================================                      |  68%\n  |                                                                            \n  |==================================================                    |  71%\n  |                                                                            \n  |======================================================================| 100%\n\n#map\nrace_data&lt;-c(\"White_alone\", \"Black_or_African_American_alone\",\n  \"American_Indian_and_Alaska_Native_alone\",\n  \"Asian_alone\", \"Native_Hawaiian_and_Other_Pacific_Islander_alone\")\n\n\npivot_race&lt;-final_df%&gt;%\n  group_by(year, GEOID_TRACT_20)%&gt;%\n  pivot_longer(race_data,names_to ='ethnicity',values_to = 'population_count')%&gt;%\n  ungroup()%&gt;%\n  group_by(ethnicity, GEOID_TRACT_20)%&gt;%\n  summarise(mean_population_count = mean(population_count))\n\nWarning: Using an external vector in selections was deprecated in tidyselect 1.1.0.\nℹ Please use `all_of()` or `any_of()` instead.\n  # Was:\n  data %&gt;% select(race_data)\n\n  # Now:\n  data %&gt;% select(all_of(race_data))\n\nSee &lt;https://tidyselect.r-lib.org/reference/faq-external-vector.html&gt;.\n\n\n`summarise()` has grouped output by 'ethnicity'. You can override using the\n`.groups` argument.\n\nprint(pivot_race, n =100)\n\n# A tibble: 810 × 3\n# Groups:   ethnicity [5]\n    ethnicity                               GEOID_TRACT_20 mean_population_count\n    &lt;chr&gt;                                            &lt;dbl&gt;                 &lt;dbl&gt;\n  1 American_Indian_and_Alaska_Native_alone    25025000102                 111. \n  2 American_Indian_and_Alaska_Native_alone    25025000201                 111. \n  3 American_Indian_and_Alaska_Native_alone    25025000202                 111. \n  4 American_Indian_and_Alaska_Native_alone    25025000301                 111. \n  5 American_Indian_and_Alaska_Native_alone    25025000302                 111. \n  6 American_Indian_and_Alaska_Native_alone    25025000401                 111. \n  7 American_Indian_and_Alaska_Native_alone    25025000402                 111. \n  8 American_Indian_and_Alaska_Native_alone    25025000502                 111. \n  9 American_Indian_and_Alaska_Native_alone    25025000503                 111. \n 10 American_Indian_and_Alaska_Native_alone    25025000505                 111. \n 11 American_Indian_and_Alaska_Native_alone    25025000506                 111. \n 12 American_Indian_and_Alaska_Native_alone    25025000601                 111. \n 13 American_Indian_and_Alaska_Native_alone    25025000603                 111. \n 14 American_Indian_and_Alaska_Native_alone    25025000604                 111. \n 15 American_Indian_and_Alaska_Native_alone    25025000701                 111. \n 16 American_Indian_and_Alaska_Native_alone    25025010500                  38.6\n 17 American_Indian_and_Alaska_Native_alone    25025010600                  38.6\n 18 American_Indian_and_Alaska_Native_alone    25025010701                  38.6\n 19 American_Indian_and_Alaska_Native_alone    25025010702                  38.6\n 20 American_Indian_and_Alaska_Native_alone    25025010801                  38.6\n 21 American_Indian_and_Alaska_Native_alone    25025010802                  38.6\n 22 American_Indian_and_Alaska_Native_alone    25025050101                 313. \n 23 American_Indian_and_Alaska_Native_alone    25025050200                 313. \n 24 American_Indian_and_Alaska_Native_alone    25025050300                 313. \n 25 American_Indian_and_Alaska_Native_alone    25025050400                 313. \n 26 American_Indian_and_Alaska_Native_alone    25025050500                 313. \n 27 American_Indian_and_Alaska_Native_alone    25025050600                 313. \n 28 American_Indian_and_Alaska_Native_alone    25025050700                 313. \n 29 American_Indian_and_Alaska_Native_alone    25025050901                 313. \n 30 American_Indian_and_Alaska_Native_alone    25025051000                 313. \n 31 American_Indian_and_Alaska_Native_alone    25025051101                 313. \n 32 American_Indian_and_Alaska_Native_alone    25025051200                 313. \n 33 American_Indian_and_Alaska_Native_alone    25025060101                  44.7\n 34 American_Indian_and_Alaska_Native_alone    25025060200                  44.7\n 35 American_Indian_and_Alaska_Native_alone    25025060301                  44.7\n 36 American_Indian_and_Alaska_Native_alone    25025060400                  44.7\n 37 American_Indian_and_Alaska_Native_alone    25025060501                  44.7\n 38 American_Indian_and_Alaska_Native_alone    25025060601                  44.7\n 39 American_Indian_and_Alaska_Native_alone    25025060602                  44.7\n 40 American_Indian_and_Alaska_Native_alone    25025060700                  44.7\n 41 American_Indian_and_Alaska_Native_alone    25025060800                  44.7\n 42 American_Indian_and_Alaska_Native_alone    25025061000                  44.7\n 43 American_Indian_and_Alaska_Native_alone    25025061101                  44.7\n 44 American_Indian_and_Alaska_Native_alone    25025061201                  44.7\n 45 American_Indian_and_Alaska_Native_alone    25025061202                 145. \n 46 American_Indian_and_Alaska_Native_alone    25025061203                  44.7\n 47 American_Indian_and_Alaska_Native_alone    25025061204                  44.7\n 48 American_Indian_and_Alaska_Native_alone    25025070102                  20.2\n 49 American_Indian_and_Alaska_Native_alone    25025070103                  20.2\n 50 American_Indian_and_Alaska_Native_alone    25025070104                  72.5\n 51 American_Indian_and_Alaska_Native_alone    25025070201                  38.6\n 52 American_Indian_and_Alaska_Native_alone    25025070202                  29.4\n 53 American_Indian_and_Alaska_Native_alone    25025070301                  38.6\n 54 American_Indian_and_Alaska_Native_alone    25025070302                  38.6\n 55 American_Indian_and_Alaska_Native_alone    25025070402                  91.8\n 56 American_Indian_and_Alaska_Native_alone    25025070501                 145. \n 57 American_Indian_and_Alaska_Native_alone    25025070502                 145. \n 58 American_Indian_and_Alaska_Native_alone    25025070600                  91.8\n 59 American_Indian_and_Alaska_Native_alone    25025070700                  38.6\n 60 American_Indian_and_Alaska_Native_alone    25025070801                 145. \n 61 American_Indian_and_Alaska_Native_alone    25025070802                 145. \n 62 American_Indian_and_Alaska_Native_alone    25025070901                 145. \n 63 American_Indian_and_Alaska_Native_alone    25025070902                 145. \n 64 American_Indian_and_Alaska_Native_alone    25025071101                 145. \n 65 American_Indian_and_Alaska_Native_alone    25025071201                 145. \n 66 American_Indian_and_Alaska_Native_alone    25025080100                 282. \n 67 American_Indian_and_Alaska_Native_alone    25025080300                 301. \n 68 American_Indian_and_Alaska_Native_alone    25025080401                 177. \n 69 American_Indian_and_Alaska_Native_alone    25025080500                 177. \n 70 American_Indian_and_Alaska_Native_alone    25025080601                 177. \n 71 American_Indian_and_Alaska_Native_alone    25025080801                  57.4\n 72 American_Indian_and_Alaska_Native_alone    25025080900                  57.4\n 73 American_Indian_and_Alaska_Native_alone    25025081001                  57.4\n 74 American_Indian_and_Alaska_Native_alone    25025081101                 169. \n 75 American_Indian_and_Alaska_Native_alone    25025081102                  65.5\n 76 American_Indian_and_Alaska_Native_alone    25025081200                 169. \n 77 American_Indian_and_Alaska_Native_alone    25025081301                 301. \n 78 American_Indian_and_Alaska_Native_alone    25025081302                 301. \n 79 American_Indian_and_Alaska_Native_alone    25025081400                 179. \n 80 American_Indian_and_Alaska_Native_alone    25025081500                 301. \n 81 American_Indian_and_Alaska_Native_alone    25025081700                 301. \n 82 American_Indian_and_Alaska_Native_alone    25025081800                 214. \n 83 American_Indian_and_Alaska_Native_alone    25025081900                 214. \n 84 American_Indian_and_Alaska_Native_alone    25025082000                  60.2\n 85 American_Indian_and_Alaska_Native_alone    25025082100                  60.2\n 86 American_Indian_and_Alaska_Native_alone    25025090100                  60.2\n 87 American_Indian_and_Alaska_Native_alone    25025090200                  60.2\n 88 American_Indian_and_Alaska_Native_alone    25025090300                 122. \n 89 American_Indian_and_Alaska_Native_alone    25025090400                 206. \n 90 American_Indian_and_Alaska_Native_alone    25025090600                 259. \n 91 American_Indian_and_Alaska_Native_alone    25025090700                 163. \n 92 American_Indian_and_Alaska_Native_alone    25025090901                 184. \n 93 American_Indian_and_Alaska_Native_alone    25025091001                 113. \n 94 American_Indian_and_Alaska_Native_alone    25025091100                 184. \n 95 American_Indian_and_Alaska_Native_alone    25025091200                 184. \n 96 American_Indian_and_Alaska_Native_alone    25025091300                 184. \n 97 American_Indian_and_Alaska_Native_alone    25025091400                 184. \n 98 American_Indian_and_Alaska_Native_alone    25025091500                 113. \n 99 American_Indian_and_Alaska_Native_alone    25025091600                  41.2\n100 American_Indian_and_Alaska_Native_alone    25025091700                  41.2\n# ℹ 710 more rows\n\nboston_local_seg &lt;- pivot_race %&gt;%\n  mutual_local(\n    group = \"ethnicity\",\n    unit = \"GEOID_TRACT_20\",\n    weight = \"mean_population_count\", \n    wide = TRUE\n  )%&gt;%\n  rename(GEOID = GEOID_TRACT_20)\n\nboston_local_seg$GEOID&lt;-as.character(boston_local_seg$GEOID)\n\nwith_geometry &lt;- get_acs(\n  geography = \"tract\",\n  variables = c(total_house_units = 'B25001_001'),\n  state = \"MA\",\n  geometry = TRUE,\n  year = 2021\n)\n\nGetting data from the 2017-2021 5-year ACS\nDownloading feature geometry from the Census website.  To cache shapefiles for use in future sessions, set `options(tigris_use_cache = TRUE)`.\n\nMA_tracts_seg &lt;- tracts(\"MA\", cb = TRUE, year = 2020) %&gt;%\n  inner_join(boston_local_seg, by = \"GEOID\") \n\n\n  |                                                                            \n  |                                                                      |   0%\n  |                                                                            \n  |==                                                                    |   2%\n  |                                                                            \n  |===                                                                   |   5%\n  |                                                                            \n  |=====                                                                 |   7%\n  |                                                                            \n  |======                                                                |   9%\n  |                                                                            \n  |========                                                              |  11%\n  |                                                                            \n  |=============                                                         |  18%\n  |                                                                            \n  |==============                                                        |  20%\n  |                                                                            \n  |=================                                                     |  25%\n  |                                                                            \n  |===================                                                   |  27%\n  |                                                                            \n  |=====================                                                 |  29%\n  |                                                                            \n  |======================                                                |  32%\n  |                                                                            \n  |========================                                              |  34%\n  |                                                                            \n  |=========================                                             |  36%\n  |                                                                            \n  |=====================================================                 |  76%\n  |                                                                            \n  |=======================================================               |  79%\n  |                                                                            \n  |==================================================================    |  94%\n  |                                                                            \n  |====================================================================  |  97%\n  |                                                                            \n  |======================================================================| 100%\n\nMA_tracts_seg%&gt;%\n  ggplot(aes(fill = ls)) + \n  geom_sf(color = NA) + \n  coord_sf(crs = st_crs(with_geometry))+\n  scale_fill_viridis_c(option = \"inferno\") + \n  theme_void() + \n  labs(fill = \"Local\\nsegregation index\")\n\n\n\n#Geo weighted Regression"
  }
]